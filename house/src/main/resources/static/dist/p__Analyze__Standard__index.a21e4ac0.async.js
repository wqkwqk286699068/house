(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"0mK/":function(t,e,a){"use strict";a.r(e);a("14J3");var n,i,r,s=a("BMrR"),l=(a("+L6B"),a("2/Rp")),o=(a("iQDF"),a("+eQT")),d=(a("jCWc"),a("kPKH")),c=a("2Taf"),u=a.n(c),f=a("vZ4D"),g=a.n(f),h=a("MhPg"),p=a.n(h),m=a("l4Ni"),w=a.n(m),y=a("ujKo"),v=a.n(y),J=(a("B9cy"),a("Ol7k")),S=(a("g9YV"),a("wCAj")),b=a("q1tI"),j=a.n(b),k=a("zHco"),E=(a("IzEo"),a("bx4M")),M=(a("R9oj"),a("ECub")),O=a("SLlZ"),R=a("LLXN"),C=a("MuoO");function x(t){var e=A();return function(){var a,n=v()(t);if(e){var i=v()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return w()(this,a)}}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}J["a"].Sider;var D,P,T,L=J["a"].Footer,B=(n=Object(C["connect"])(function(t){var e=t.JwanaliysisModel,a=t.loading;return{loadingAll:a.models.JwanaliysisModel,JwanaliysisModel:e,loading:a.effects["JwanaliysisModel/getAnaliysis"]}}),n((r=function(t){p()(a,t);var e=x(a);function a(t){var n;return u()(this,a),n=e.call(this,t),n.onChartClick=function(t,e){n.setState({cnt:n.state.cnt+1})},n.onChartLegendselectchanged=function(t,e){},n.onChartReady=function(t){},n.state={flags:!1,flags2:!1},n}return g()(a,[{key:"componentDidMount",value:function(){var t=this.props,e=t.dispatch,a=(t.match,t.startdate),n=t.stopdate;this.props.onRef("JwPiechart",this),e({type:"JwanaliysisModel/getAnaliysis",payload:{startdate:a,stopdate:n}})}},{key:"getAnaliysis",value:function(t){var e=this.props.dispatch,a={startdate:t.startdate,stopdate:t.stopdate};null!=t.stopdate&&void 0!=t.stopdate&&""!=t.stopdate?this.setState({stopdate:t.stopdate,flags2:!0}):null!=t.startdate&&void 0!=t.startdate&&""!=t.startdate&&this.setState({startdate:t.startdate,flags:!0}),e({type:"JwanaliysisModel/getAnaliysis",payload:a})}},{key:"getOption",value:function(t){return void 0!=t&&null!=t&&void 0!=t[0]&&null!=t[0]?{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)",left:"center"},legend:{selectedMode:!1,bottom:-5,left:"center",data:[Object(R["formatMessage"])({id:"jindiao.JwJwStandard.High-risk"}),Object(R["formatMessage"])({id:"jindiao.JwJwStandard.Low-risk"}),Object(R["formatMessage"])({id:"jindiao.JwJwStandard.No-risk"})]},series:[{name:Object(R["formatMessage"])({id:"jindiao.JwJwStandard.proportion"}),type:"pie",radius:["40%","70%"],center:["50%","50%"],data:[{value:void 0!=t[0]?t[0].highrisk:null,name:Object(R["formatMessage"])({id:"jindiao.JwJwStandard.High-risk"})},{value:void 0!=t[0]?t[0].lowrisk:null,name:Object(R["formatMessage"])({id:"jindiao.JwJwStandard.Low-risk"})},{value:void 0!=t[0]?t[0].norisk:null,name:Object(R["formatMessage"])({id:"jindiao.JwJwStandard.No-risk"})}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{show:!0},emphasis:{show:!0}},color:["#D43C45","#FBD339","#4FCA76"]}]}:{}}},{key:"standard",value:function(t){var e={click:this.onChartClick,legendselectchanged:this.onChartLegendselectchanged},a=this.state,n=a.startdate,i=a.stopdate,r=a.flags,s=a.flags2;return void 0!=t&&null!=t&&void 0!=t[0]&&null!=t[0]&&t.length>0?j.a.createElement("div",{style:{marginLeft:"4%"}},j.a.createElement("span",null,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.from"}),r?n:t[0].earliestTime,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.to"}),s?i:t[0].latestTime,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.total"}),t[0].totalrisk,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.home"}),Object(R["formatMessage"])({id:"jindiao.JwJwStandard.riskofred"}),t[0].highrisk,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.home"}),Object(R["formatMessage"])({id:"jindiao.JwJwStandard.riskofyellow"}),t[0].lowrisk,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.home"}),Object(R["formatMessage"])({id:"jindiao.JwJwStandard.rest"}),t[0].norisk,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.home1"}),Object(R["formatMessage"])({id:"jindiao.JwJwStandard.norisk"})),j.a.createElement("br",null),j.a.createElement("br",null),j.a.createElement("br",null),j.a.createElement("br",null),j.a.createElement(O["a"],{style:{height:"300px",width:"100%"},className:"react_for_echarts",option:this.getOption(t),onChartReady:this.onChartReady,onEvents:e}),":",j.a.createElement("div",{style:{width:1e3}})):j.a.createElement(M["a"],{description:"\u6682\u65e0\u98ce\u9669\u4f01\u4e1a\u4fe1\u606f"})}},{key:"render",value:function(){var t=this.props,e=t.JwanaliysisModel.analiysis;t.loading,t.loadingAll;return j.a.createElement("div",null,j.a.createElement(E["a"],{bordered:!1,style:{borderBottom:"1px solid #DEE1E6",fontSize:16}},Object(R["formatMessage"])({id:"jindiao.JwJwStandard.analysis"})),j.a.createElement(L,{style:{backgroundColor:"white",paddingLeft:0}},this.standard(e)))}}]),a}(b["PureComponent"]),i=r))||i),F=(a("T2oS"),a("W9HT")),H=(a("MXD1"),a("CFYs")),N=(a("Awhp"),a("KrTs")),z=a("HZnN"),K=a("xNuS");function I(t){var e=W();return function(){var a,n=v()(t);if(e){var i=v()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return w()(this,a)}}function W(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}J["a"].Sider;var X=J["a"].Footer,Y=(D=Object(C["connect"])(function(t){var e=t.JwanaliysisSignalModel,a=t.loading;return{loadingAll:a.models.JwanaliysisSignalModel,JwanaliysisSignalModel:e,loading:a.effects["JwanaliysisSignalModel/getAnalysisSignal"]}}),D((T=function(t){p()(a,t);var e=I(a);function a(t){var n;return u()(this,a),n=e.call(this,t),n.redandyellowandgreen=function(){var t=n.props,e=t.dispatch,a=t.startdate,i=t.stopdate;e({type:"JwanaliysisSignalModel/getAnalysisSignal",payload:{flag:"redandyellowandgreen",startdate:a,stopdate:i}})},n.redandyellow=function(){var t=n.props,e=t.dispatch,a=t.startdate,i=t.stopdate;n.setState({spinning:!0},function(){e({type:"JwanaliysisSignalModel/getAnalysisSignal",payload:{flag:"redandyellow",startdate:a,stopdate:i}})})},n.state={isClick:!0,spinning:!1,flags:!1},n}return g()(a,[{key:"componentDidMount",value:function(){var t=this.props,e=t.dispatch;t.match;this.props.onRef("Jwfunnelchart",this),e({type:"JwanaliysisSignalModel/getAnalysisSignal",payload:{flag:"redandyellow"}})}},{key:"getAnaliysis",value:function(t){var e=this.props.dispatch;t.startdate,t.stopdate;null!=t.startdate&&void 0!=t.startdate&&""!=t.startdate||null!=t.stopdate&&void 0!=t.stopdate&&""!=t.stopdate?this.setState({startdate:t.startdate,stopdate:t.stopdate,flags:!0}):this.setState({flags:!1}),e({type:"JwanaliysisSignalModel/getAnalysisSignal",payload:{flag:"redandyellow",startdate:t.startdate,stopdate:t.stopdate}})}},{key:"standard",value:function(t){var e=this.state,a=e.startdate,n=e.stopdate,i=e.flags;if(null!=t&&void 0!=t&&t.length>0)return void 0!=t[0]&&null!=t[0]&&0!=t[0].riskinfoTotal?j.a.createElement("div",{style:{paddingLeft:16}},j.a.createElement("span",null,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.from"}),i&&null!=a?a:t[0].earliestTime,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.to"}),i&&null!=n?n:t[0].latestTime,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.Totalmonitoring"}),t[0].riskinfoTotal,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.risksignal"}))):j.a.createElement("div",null,j.a.createElement("span",null,Object(R["formatMessage"])({id:"jindiao.JwJwStandard.norisk"})))}},{key:"render",value:function(){var t=this.props,e=t.JwanaliysisSignalModel.analiysisSignal,a=t.JwanaliysisSignalModel.analiysisSignal2,n=(t.loading,t.loadingAll),i=[{title:"SignalProportion",dataIndex:"SignalProportion",align:"left",render:function(t){if(null!=t&&"0"!=t.count)return j.a.createElement("div",null,j.a.createElement(K["a"],{tooltip:!0,lines:1},j.a.createElement(N["a"],{status:"3"==t.risklevel?"error":"2"==t.risklevel?"warning":"success"}),t.risktype),j.a.createElement("br",null),j.a.createElement("div",null,j.a.createElement(H["a"],{strokeColor:{"0%":"3"==t.risklevel?"#ff5f5f":"2"==t.risklevel?"#ff9446":"#14e183","100%":"3"==t.risklevel?"#ff5f5f":"2"==t.risklevel?"#ff9446":"#14e183"},style:{float:"left",width:"80%"},percent:t.signalProportion})))}}],r=[];if(void 0!=e&&null!=e)for(var l=0;l<e.length;l++)r.push({key:l,SignalProportion:e[l],hehe:e[l]});return j.a.createElement(F["a"],{tip:"\u52a0\u8f7d\u4e2d...",spinning:n,style:{marginTop:"20%"}},j.a.createElement(s["a"],null,j.a.createElement(E["a"],{bordered:!1,bodyStyle:{borderBottom:"1px solid #DEE1E6",fontWeight:"bold",paddingRight:0,fontSize:16}},j.a.createElement(d["a"],{lg:7,md:12,sm:24},Object(R["formatMessage"])({id:"jindiao.JwJwStandard.distributionMap"}),j.a.createElement("br",null)))),j.a.createElement(X,{style:{backgroundColor:"white",width:"100%"}},this.standard(a),j.a.createElement(S["a"],{style:{marginTop:"5%"},columns:i,dataSource:r,showHeader:!1,pagination:!1,scroll:{y:400}})))}}]),a}(b["PureComponent"]),P=T))||P);function Z(t){var e=Q();return function(){var a,n=v()(t);if(e){var i=v()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return w()(this,a)}}function Q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}a.d(e,"default",function(){return V});S["a"].Column,J["a"].Sider;var _=J["a"].Footer;function q(t){var e=t.getFullYear(),a=(t.getMonth()+1).toString(),n=t.getDate().toString();1==a.length&&(a="0"+a),1==n.length&&(n="0"+n);var i=e+"-"+a+"-"+n;return i}var V=function(t){p()(a,t);var e=Z(a);function a(t){var n;return u()(this,a),n=e.call(this,t),n.state={startdate:null,stopdate:null},n}return g()(a,[{key:"startdate",value:function(t,e){this.setState({startdate:e})}},{key:"stopdate",value:function(t,e){this.setState({stopdate:e})}},{key:"submits",value:function(){var t=this.state,e=t.startdate,a=t.stopdate,n={startdate:e,stopdate:null!=a?a:q(new Date)};this.JwPiechart.getAnaliysis(n),this.Jwfunnelchart.getAnaliysis(n)}},{key:"onRef",value:function(t,e){switch(t){case"JwPiechart":this.JwPiechart=e;break;case"Jwfunnelchart":this.Jwfunnelchart=e;break;default:break}}},{key:"render",value:function(){var t=this.state,e=t.startdate,a=t.stopdate;return j.a.createElement(k["a"],null,j.a.createElement(_,{style:{backgroundColor:"white",marginBottom:24,padding:10}},j.a.createElement(s["a"],null,j.a.createElement(d["a"],{xl:14,lg:32,sm:16,xs:8}),j.a.createElement(d["a"],{xl:3,lg:32,sm:16,xs:8,style:{marginRight:"16px"}},j.a.createElement(o["a"],{onChange:this.startdate.bind(this),placeholder:Object(R["formatMessage"])({id:"jindiao.JwJwStandard.startdate"})})),j.a.createElement(d["a"],{xl:3,lg:32,sm:16,xs:8,style:{marginRight:"16px"}},j.a.createElement(o["a"],{onChange:this.stopdate.bind(this),placeholder:Object(R["formatMessage"])({id:"jindiao.JwJwStandard.stopdate"})})),j.a.createElement(d["a"],{xl:2,lg:32,sm:16,xs:8,style:{marginRight:"16px"}},j.a.createElement(z["a"],{authority:"analyze:standard:search"},j.a.createElement(l["a"],{type:"primary",onClick:this.submits.bind(this),style:{width:"100%",backgroundColor:"#3D73FE"}},Object(R["formatMessage"])({id:"Jwanaliysis.search"})))))),j.a.createElement(J["a"],null,j.a.createElement(s["a"],{gutter:24},j.a.createElement(d["a"],{xl:12,lg:24,sm:24,xs:24},j.a.createElement("div",{style:{backgroundColor:"white",width:"100%",height:600}},j.a.createElement(B,{style:{margin:"auto"},onRef:this.onRef.bind(this),startdate:e,stopdate:a}))),j.a.createElement(d["a"],{xl:12,lg:24,sm:24,xs:24,style:{marginBottom:24}},j.a.createElement("div",{style:{backgroundColor:"white",width:"100%",height:600}},j.a.createElement(Y,{onRef:this.onRef.bind(this),startdate:e,stopdate:a}))))))}}]),a}(j.a.Component)}}]);