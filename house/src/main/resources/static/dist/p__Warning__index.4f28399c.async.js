(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[124],{"5R27":function(e,t,a){"use strict";a.r(t);a("IzEo");var n,i,r,l,s=a("bx4M"),o=(a("Awhp"),a("KrTs")),d=(a("/zsF"),a("PArb")),c=(a("+BJd"),a("mr32")),m=(a("14J3"),a("BMrR")),u=(a("Pwec"),a("CtXQ")),g=(a("+L6B"),a("2/Rp")),h=(a("iQDF"),a("+eQT")),k=(a("jCWc"),a("kPKH")),w=(a("O3gP"),a("lrIw")),f=(a("2qtc"),a("kLXV")),p=a("2Taf"),y=a.n(p),j=a("vZ4D"),E=a.n(j),v=a("rlhR"),x=a.n(v),b=a("MhPg"),q=a.n(b),M=a("l4Ni"),R=a.n(M),C=a("ujKo"),O=a.n(C),J=(a("y8nQ"),a("Vl3Y")),S=(a("OaEy"),a("2fM7")),W=a("q1tI"),z=a.n(W),D=a("MuoO"),F=a("mOP9"),I=a("xNuS"),N=a("zHco"),T=a("LLXN"),P=a("vDqi"),V=a.n(P),B=a("CkN6"),L=a("Aeqt"),A=a("HZnN"),U=a("wd/R"),Y=a.n(U);function H(e){var t=K();return function(){var a,n=O()(e);if(t){var i=O()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return R()(this,a)}}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Q=S["a"].Option,X=J["a"].Item,Z="YYYY-MM-DD",G=(n=Object(D["connect"])(function(e){var t=e.jwRiskModel,a=e.jwRiskReportModel,n=e.loading,i=e.user;return{jwRiskModel:t,jwRiskReportModel:a,loading:n.effects["jwRiskModel/getrisk"],loadingUpdate:n.effects["jwRiskReportModel/updateReport"],currentUser:i.currentUser}}),i=J["a"].create(),n(r=i((l=function(e){q()(a,e);var t=H(a);function a(){var e;y()(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),e.state={selectedRows:[],isClick:!0,data:[],current:"1",dataSource:[],iflag:"0",expandForm:!1,dataSource1:[],risklevel:""},e.search=function(){var t=e.props.dispatch,a=e.state,n=a.isClick,i=a.username,r=a.examinename,l=a.orderDate,s=a.ddate,o=a.risklevel,d=a.effective,c=a.retreat,m=a.syscode,u=x()(e);if(n){var g={iflag:"0",examinename:r,orderdate:l,ddate:s,risklevel:o,effective:d,syscode:m,retreat:c,username:i};t({type:"jwRiskModel/getrisk",payload:g}),e.setState({isClick:!1}),setTimeout(function(){u.setState({isClick:!0})},1e3)}},e.handleChange=function(t){e.setState({examinename:t})},e.handleStandardTableChange=function(t){var a=e.props.dispatch,n=e.state,i=n.examinename,r=n.orderDate,l=n.risklevel,s=n.ddate,o=n.effective,d=n.syscode,c=n.retreat,m=n.username;e.setState({iflag:"0","page.current":t.current,"page.size":t.pageSize,examinename:i,orderdate:r,ddate:s,risklevel:l,effective:o,syscode:d,retreat:c,username:m,total:t.current,current:t.current});var u={iflag:"0","page.current":t.current,"page.size":t.pageSize,examinename:i,orderdate:r,ddate:s,risklevel:l,effective:o,sysCode:d,retreat:c,username:m,total:t.total,current:t.current};a({type:"jwRiskModel/getrisk",payload:u})},e.Refresh=function(){var t=e.props.form;e.setState({examinename:null,orderDate:null,ddate:null,risklevel:null,effective:null,username:null,retreat:null,syscode:null}),t.resetFields()},e.toggleForm=function(){var t=e.state.expandForm;e.setState({expandForm:!t})},e.toggleForm=function(){var t=e.state.expandForm;e.setState({expandForm:!t})},e.Clear=function(){var t=e.props.dispatch;t({type:"jwRiskReportModel/Clear"})},e}return E()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.location,i=n.query.states;void 0!==i&&null!=i?this.setState({current:i.current,"page.current":i.current,examinename:i.examinename,orderdate:i.orderDate,ddate:i.ddate,risklevel:i.risklevel,effective:i.effective,syscode:i.syscode,retreat:i.retreat,username:i.username},function(){a({type:"jwRiskModel/getrisk",payload:e.state})}):a({type:"jwRiskModel/getrisk",payload:{iflag:"0"}})}},{key:"startonChange",value:function(e,t){this.setState({orderDate:t})}},{key:"endonChange",value:function(e,t){this.setState({ddate:t})}},{key:"risklevel",value:function(e){this.setState({risklevel:e})}},{key:"getUserName",value:function(e){this.setState({username:e})}},{key:"termofvalidity",value:function(e){this.setState({effective:e})}},{key:"getTuiDing",value:function(e){this.setState({retreat:e})}},{key:"exportInfo",value:function(e){V.a.get("".concat(L["a"],"/risk/JwPdfInfo/pdf"),{params:{corpName:e.examinename,sysCode:e.syscode}})}},{key:"handleChangelike",value:function(e){this.setState({examinename:e});var t=this,a=[];a.length=0,V.a.get("".concat(L["a"],"/risk/jwRisk/getriskByName"),{params:{examinename:e}}).then(function(e){if(null!=e.data&&e.data.length>0)for(var n=0;n<e.data.length;n++)a.push(z.a.createElement(Q,{key:e.data[n]},e.data[n]));else a.push(z.a.createElement(Q,{key:Object(T["formatMessage"])({id:"jindiao.JwReconciliation.null"}),disabled:!0},Object(T["formatMessage"])({id:"jindiao.JwReconciliation.null"})));t.setState({dataSource:a})}).catch(function(e){})}},{key:"handleChangelike1",value:function(e){this.setState({syscode:e});var t=this,a=[];a.length=0,V.a.get("".concat(L["a"],"/risk/jwRisk/getriskBySysCode"),{params:{syscode:e}}).then(function(e){if(null!=e.data&&e.data.length>0)for(var n=0;n<e.data.length;n++)a.push(z.a.createElement(Q,{key:e.data[n]},e.data[n]));else a.push(z.a.createElement(Q,{key:Object(T["formatMessage"])({id:"jindiao.JwReconciliation.null"}),disabled:!0},Object(T["formatMessage"])({id:"jindiao.JwReconciliation.null"})));t.setState({dataSource1:a})}).catch(function(e){})}},{key:"updateReport",value:function(e,t){var a=this,n=this.props.dispatch;n({type:"jwRiskReportModel/updateReport",payload:{corpName:e,sysCode:t}}).then(function(){var e=a.props.jwRiskReportModel.updateReportsave;0===e.code?f["a"].success({title:e.msg}):(e.code,f["a"].info({title:e.msg})),n({type:"jwRiskModel/getrisk",payload:{iflag:"1"}})})}},{key:"renderForm",value:function(){var e=this.state.expandForm;return e?this.renderAllForm():this.renderSimpleForm()}},{key:"renderAllForm",value:function(){var e=this,t=this.props,a=t.form.getFieldDecorator,n=t.location,i=n.query.states,r=this.state,l=r.dataSource,s=r.dataSource1;return z.a.createElement("div",{style:{height:80,marginTop:24,paddingBottom:30}},z.a.createElement(J["a"],null,z.a.createElement(m["a"],{gutter:{sm:8,lg:20,xl:12},style:{marginBottom:0,paddingBottom:0}},z.a.createElement(k["a"],{xl:5,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("syscode",void 0!=i?{initialValue:i.syscode}:{})(z.a.createElement(w["a"],{ref:function(t){return e.input=t},dataSource:s,style:{size:14},onChange:this.handleChangelike1.bind(this),placeholder:Object(T["formatMessage"])({id:"jindiao.JwPay.inputsyscode"})})))),z.a.createElement(k["a"],{xl:5,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("gongsi",void 0!=i?{initialValue:i.examinename}:{})(z.a.createElement(w["a"],{style:{size:14},ref:function(t){return e.input=t},dataSource:l,onChange:this.handleChangelike.bind(this),placeholder:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.mubiaogongsi"})})))),z.a.createElement(k["a"],{xl:3,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("startdate",void 0!=i?{initialValue:null!=i.orderDate?Y()(i.orderDate,Z):null}:{})(z.a.createElement(h["a"],{style:{size:14},onChange:this.startonChange.bind(this),placeholder:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.startdate"})})))),z.a.createElement(k["a"],{xl:3,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("endstart",void 0!=i?{initialValue:null!=i.ddate?Y()(i.ddate,Z):null}:{})(z.a.createElement(h["a"],{onChange:this.endonChange.bind(this),placeholder:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.endstart"})})))),z.a.createElement(k["a"],{xl:2,lg:12,sm:24},z.a.createElement(X,null,a("search")(z.a.createElement(A["a"],{authority:"warning:search"},z.a.createElement(g["a"],{type:"primary",style:{backgroundColor:"#3D73FE",width:"100%",size:14},onClick:this.search},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.search"})))))),z.a.createElement(k["a"],{xl:2,lg:12,sm:24},z.a.createElement(X,null,a("shuaxin",{})(z.a.createElement(g["a"],{style:{width:"100%",size:14},onClick:this.Refresh},Object(T["formatMessage"])({id:"Jwanaliysis.refresh"}))))),z.a.createElement(k["a"],{xl:2,lg:12,sm:24,style:{marginTop:8}},z.a.createElement("a",{style:{marginLeft:8,size:14},onClick:this.toggleForm.bind(this)},"\u6536\u8d77 ",z.a.createElement(u["a"],{type:"up"})))),z.a.createElement(m["a"],{gutter:{sm:8,lg:20,xl:12}},z.a.createElement(k["a"],{xl:4,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("level",void 0!=i?{initialValue:i.risklevel}:{})(z.a.createElement(S["a"],{style:{width:"100%",size:14},placeholder:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.level"}),onChange:this.risklevel.bind(this)},z.a.createElement(Q,{value:"3"},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.high.search"})),z.a.createElement(Q,{value:"2"},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.low.search"})),z.a.createElement(Q,{value:"1"},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.nothing.search"})),z.a.createElement(Q,{value:""},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.quanbu.search"})))))),z.a.createElement(k["a"],{xl:4,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("reportstartdate",void 0!=i?{initialValue:i.effective}:{})(z.a.createElement(S["a"],{style:{width:"100%",size:14},placeholder:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.reportstartdate"}),onChange:this.termofvalidity.bind(this)},z.a.createElement(Q,{value:"7"},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.Nearlyaweek"})),z.a.createElement(Q,{value:"1"},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.Nearly1month"})),z.a.createElement(Q,{value:"3"},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.Nearly3month"})),z.a.createElement(Q,{value:"6"},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.Nearly6month"})),z.a.createElement(Q,{value:""},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.quanbu.search"})))))),z.a.createElement(k["a"],{xl:4,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("retreat")(z.a.createElement(S["a"],{style:{width:"100%"},placeholder:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.tuidingzhuangtai"}),onChange:this.getTuiDing.bind(this)},z.a.createElement(Q,{value:"0"},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.weiyuiding"})),z.a.createElement(Q,{value:"1"},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.yituiding"})),z.a.createElement(Q,{value:""},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.quanbu.search"})))))),z.a.createElement(k["a"],{xl:4,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("username")(z.a.createElement(S["a"],{style:{width:"100%"},onChange:this.getUserName.bind(this),placeholder:Object(T["formatMessage"])({id:"order.person"})},z.a.createElement(Q,{value:"0"},"\u4ec5\u81ea\u5df1"),z.a.createElement(Q,{value:"1"},"\u5176\u4ed6"),z.a.createElement(Q,{value:""},"\u5168\u90e8"))))),z.a.createElement(k["a"],{xl:6,lg:12,sm:24}))))}},{key:"renderSimpleForm",value:function(){var e=this,t=this.props,a=t.form.getFieldDecorator,n=t.location,i=n.query.states,r=this.state,l=r.dataSource,s=r.dataSource1;return z.a.createElement("div",{style:{height:40,marginTop:24,paddingBottom:30}},z.a.createElement(J["a"],null,z.a.createElement(m["a"],{gutter:{sm:8,lg:20,xl:12}},z.a.createElement(k["a"],{xl:5,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("syscode",void 0!=i?{initialValue:i.syscode}:{})(z.a.createElement(w["a"],{style:{size:14},ref:function(t){return e.input=t},dataSource:s,onChange:this.handleChangelike1.bind(this),placeholder:Object(T["formatMessage"])({id:"jindiao.JwPay.inputsyscode"})})))),z.a.createElement(k["a"],{xl:5,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("gongsi",void 0!=i?{initialValue:i.examinename}:{})(z.a.createElement(w["a"],{style:{size:14},ref:function(t){return e.input=t},dataSource:l,onChange:this.handleChangelike.bind(this),placeholder:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.mubiaogongsi"})})))),z.a.createElement(k["a"],{xl:3,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("startdate",void 0!=i?{initialValue:null!=i.orderDate?Y()(i.orderDate,Z):null}:{})(z.a.createElement(h["a"],{style:{size:14},onChange:this.startonChange.bind(this),placeholder:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.startdate"})})))),z.a.createElement(k["a"],{xl:3,lg:12,sm:24,style:{marginRight:"10px"}},z.a.createElement(X,null,a("endstart",void 0!=i?{initialValue:null!=i.ddate?Y()(i.ddate,Z):null}:{})(z.a.createElement(h["a"],{style:{size:14},onChange:this.endonChange.bind(this),placeholder:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.endstart"})})))),z.a.createElement(k["a"],{xl:2,lg:12,sm:24},z.a.createElement(X,null,a("search")(z.a.createElement(A["a"],{authority:"warning:search"},z.a.createElement(g["a"],{type:"primary",style:{backgroundColor:"#3D73FE",width:"100%",size:14},onClick:this.search},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.search"})))))),z.a.createElement(k["a"],{xl:2,lg:12,sm:24},z.a.createElement(X,null,a("shuaxin",{})(z.a.createElement(g["a"],{style:{width:"100%",size:14},onClick:this.Refresh},Object(T["formatMessage"])({id:"Jwanaliysis.refresh"}))))),z.a.createElement(k["a"],{xl:2,lg:12,sm:24,style:{marginTop:8}},z.a.createElement("a",{style:{marginLeft:8,size:14},onClick:this.toggleForm.bind(this)},"\u5c55\u5f00 ",z.a.createElement(u["a"],{type:"down"}))))))}},{key:"render",value:function(){var e=this,t=this.state.selectedRows,a=this.props,n=a.jwRiskModel.data,i=a.loading,r=1100,l=100,m=[],u=A["a"].check("warning:view","1",null),g=A["a"].check("warning:xdCompany","1",null),h=A["a"].check("warning:sysCode","1",null),k=A["a"].check("warning:riskinfo","1",null),w=A["a"].check("warning:xdPerson","1",null);null!==k&&(l=250,r+=150),null!==u&&(r+=150),null!==g&&(r+=200),null!==h&&(r+=150),null!==w&&(r+=50);var f=[{title:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.examinename"}),dataIndex:"examinename",key:"examinename",width:"16%",render:function(e){return z.a.createElement(I["a"],{maxline:15,tooltip:!0,lines:1},e)}},{title:Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.level"}),dataIndex:"massageName",key:"massageName",render:function(e){return"\u9ad8\u98ce\u9669"==e||"High risk"==e?z.a.createElement(c["a"],{color:"#f5232e"},Object(T["formatMessage"])({id:"jindiao.Jwhome.gao"})):"\u4e2d\u98ce\u9669"==e||"Medium risk"==e?z.a.createElement(c["a"],{color:"#ffa318"},Object(T["formatMessage"])({id:"jindiao.Jwhome.di"})):"\u4f4e\u98ce\u9669"==e||"Low risk"==e?z.a.createElement(c["a"],{color:"#52c41a"},Object(T["formatMessage"])({id:"jindiao.Jwhome.wu"})):void 0}},{title:"".concat(Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.orderdate"})),dataIndex:"orderdate",key:"orderdate"},{title:"".concat(Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.insertdate"})),dataIndex:"insertdate",key:"insertdate"},{title:"".concat(Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.updatedate"})),dataIndex:"updatedate",key:"updatedate"},{title:"".concat(Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.ddate"})),dataIndex:"ddate",key:"ddate"},{title:"".concat(Object(T["formatMessage"])({id:"order.tdstate"})),dataIndex:"retreat",key:"retreat",render:function(e){return"0"==e?"\u672a\u9000\u8ba2":"1"==e?"\u5df2\u9000\u8ba2":void 0}},{title:"".concat(Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.caozuo"})),dataIndex:"riskinfocount",width:l,align:"center",fixed:"right",render:function(t,a){return z.a.createElement(W["Fragment"],null,z.a.createElement(A["a"],{authority:"warning:view"},z.a.createElement(F["a"],{style:{color:"rgb(61, 115, 254)"},disabled:"1"!==a.generatereportstate,onClick:e.Clear,to:{pathname:"/warning/JwRiskReport",query:{name:a.examinename,syscode:a.syscode,reportTypestate:a.reportTypeState,ifglgs:a.ifglgs,states:e.state}}},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.searchreport"}))),z.a.createElement(A["a"],{authority:"warning:riskinfo"},z.a.createElement(d["a"],{type:"vertical"}),z.a.createElement(o["a"],{style:{fontSize:10,backgroundColor:"red",color:"#fff",boxShadow:"0 0 0 0px white inset"},count:t},z.a.createElement(F["a"],{style:{color:"#3D73FE"},to:{pathname:"/warning/JwRiskInfo",query:{examinename:a.examinename,count:t,sysCode:a.syscode,insertDate:a.date,states:e.state}}},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.riskinfo"})))),z.a.createElement(A["a"],{authority:"warning:update"},z.a.createElement(d["a"],{type:"vertical"}),z.a.createElement("a",{loading:e.props.loadingUpdate,style:{color:"rgb(61, 115, 254)"},onClick:e.updateReport.bind(e,a.examinename,a.syscode)},Object(T["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.update"}))))}}],p=[{title:"\u8ba2\u5355\u53f7",dataIndex:"initSyscode",key:"initSyscode",width:"9%",render:function(e){return z.a.createElement(A["a"],{authority:"warning:sysCode"},z.a.createElement(I["a"],{maxline:10,tooltip:!0,lines:1},e))}}],y=[{title:"\u4e0b\u5355\u4f01\u4e1a",dataIndex:"company",key:"company",width:"14%",render:function(e){return z.a.createElement(A["a"],{authority:"warning:xdCompany"},z.a.createElement(I["a"],{maxline:15,tooltip:!0,lines:1},e))}}],j=[{title:"\u7533\u8bf7\u4eba",dataIndex:"username",key:"username",width:"6%",render:function(e){return z.a.createElement(A["a"],{authority:"warning:xdPerson"},z.a.createElement(I["a"],{maxline:6,tooltip:!0,lines:1},e))}}];null!==h&&m.push(p[0]),null!==g&&m.push(y[0]),null!==w&&m.push(j[0]);for(var E=0;E<f.length;E++)m.push(f[E]);return z.a.createElement(N["a"],null,z.a.createElement(s["a"],{bodyStyle:{paddingTop:0}},this.renderForm(),z.a.createElement(B["a"],{rowKey:function(e){return e.syscode},selectedRows:t,loading:i,data:n,columns:m,onSelectRow:null,rowSelection:null,onChange:this.handleStandardTableChange.bind(this),scroll:{x:r}})))}}]),a}(W["PureComponent"]),r=l))||r)||r);t["default"]=G}}]);