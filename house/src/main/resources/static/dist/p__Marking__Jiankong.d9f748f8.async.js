(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[62],{tSOT:function(e,a,t){"use strict";t.r(a);t("IzEo");var n,i,r,o,l=t("bx4M"),s=(t("14J3"),t("BMrR")),c=(t("O3gP"),t("lrIw")),d=(t("jCWc"),t("kPKH")),u=(t("+L6B"),t("2/Rp")),m=(t("2qtc"),t("kLXV")),p=t("2Taf"),h=t.n(p),g=t("vZ4D"),f=t.n(g),y=t("rlhR"),k=t.n(y),j=t("MhPg"),w=t.n(j),v=t("l4Ni"),b=t.n(v),x=t("ujKo"),M=t.n(x),E=(t("+BJd"),t("mr32")),S=(t("y8nQ"),t("Vl3Y")),z=(t("OaEy"),t("2fM7")),N=t("q1tI"),R=t.n(N),q=t("MuoO"),O=t("Aeqt"),J=t("CkN6"),C=t("zHco"),I=t("LLXN"),T=(t("Qyje"),t("vDqi")),D=t.n(T),L=t("HZnN"),W=t("usdK"),X=t("xNuS");function H(e){var a=P();return function(){var t,n=M()(e);if(a){var i=M()(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return b()(this,t)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var B=z["a"].Option,F=S["a"].Item,K=[{title:Object(I["formatMessage"])({id:"jindiao.JwMarking.fengxianxinhaomingcheng"}),dataIndex:"riskInfo",width:"50%",render:function(e){return R.a.createElement(X["a"],{tooltip:!0,lines:1},e)}},{title:Object(I["formatMessage"])({id:"jindiao.JwMarking.fengxianxinhaodengji"}),dataIndex:"riskLevel",width:"15%",render:function(e){return 1==e?R.a.createElement(E["a"],{color:"#52c41a"},Object(I["formatMessage"])({id:"jindiao.Jwhome.wu"})):2==e?R.a.createElement(E["a"],{color:"#ffa318"},Object(I["formatMessage"])({id:"jindiao.Jwhome.di"})):3==e?R.a.createElement(E["a"],{color:"#f5232e"},Object(I["formatMessage"])({id:"jindiao.Jwhome.gao"})):""}},{title:Object(I["formatMessage"])({id:"jindiao.JwMarking.xinhaodalei"}),dataIndex:"riskInfoType",width:"15%",render:function(e){return R.a.createElement(X["a"],{tooltip:!0,lines:1},e)}},{title:Object(I["formatMessage"])({id:"jindiao.JwMarking.beizhu"}),dataIndex:"describe",width:"20%",render:function(e){return R.a.createElement(X["a"],{tooltip:!0,lines:1},e)}}],V=(n=Object(q["connect"])(function(e){var a=e.jwRadarModel,t=e.loading;return{jwRadarModel:a,loading:t.effects["jwRadarModel/searchRadar"]}}),i=S["a"].create(),n(r=i((o=function(e){w()(t,e);var a=H(t);function t(e){var n;return h()(this,t),n=a.call(this,e),n.columns=[{title:Object(I["formatMessage"])({id:"jindiao.JwMarking.examinename"}),dataIndex:"examineName",key:"examineName",width:"260px",render:function(e){return R.a.createElement(X["a"],{tooltip:!0,lines:1},e)}},{title:Object(I["formatMessage"])({id:"jindiao.JwMarking.title"}),dataIndex:"riskInfo",key:"riskInfo",width:"330px",render:function(e){return R.a.createElement(X["a"],{tooltip:!0,lines:1},e)}},{title:Object(I["formatMessage"])({id:"jindiao.JwMarking.risklevel"}),dataIndex:"riskLevel",key:"riskLevel",width:"110px",render:function(e){return 1==e?R.a.createElement(E["a"],{color:"#52c41a"},Object(I["formatMessage"])({id:"jindiao.Jwhome.wu"})):2==e?R.a.createElement(E["a"],{color:"#ffa318"},Object(I["formatMessage"])({id:"jindiao.Jwhome.di"})):3==e?R.a.createElement(E["a"],{color:"#f5232e"},Object(I["formatMessage"])({id:"jindiao.Jwhome.gao"})):void 0}},{title:"\u98ce\u9669\u4fe1\u53f7\u6570\u91cf",dataIndex:"riskInfoNum",key:"riskInfoNum",width:"130px",render:function(e,a){return R.a.createElement("a",{type:"primary",onClick:function(e){return n.showModal(e,a.id)}},e)}},{title:"\u4e3b\u7c7b\u578b",dataIndex:"mainTypeName",key:"mainTypeName",width:"110px",render:function(e){return R.a.createElement(X["a"],{tooltip:!0,lines:1},e)}},{title:"\u5b50\u7c7b\u578b",dataIndex:"subTypes",key:"subTypes",width:"110px",render:function(e){return R.a.createElement(X["a"],{tooltip:!0,lines:1},e)}},{title:"\u6253\u6807\u72b6\u6001",dataIndex:"dbState",key:"dbState",width:"110px",render:function(e){return"0"===e?R.a.createElement(X["a"],{tooltip:!0,lines:1},"\u672a\u6253\u6807"):R.a.createElement(X["a"],{tooltip:!0,lines:1},"\u5df2\u6253\u6807")}},{title:Object(I["formatMessage"])({id:"jindiao.JwMarking.caozuo"}),dataIndex:"caozuo",key:"caozuo",align:"center",fixed:"right",width:"100px",render:function(e,a){return R.a.createElement("div",null,R.a.createElement(L["a"],{authority:"marking:markingJiankong:edit"},R.a.createElement(N["Fragment"],null,R.a.createElement("a",{onClick:n.tiaozhuan.bind(k()(n),a)},Object(I["formatMessage"])({id:"business.rules.edit"})))),R.a.createElement(L["a"],{authority:"marking:markingJiankong:look"},"\xa0\xa0",R.a.createElement(N["Fragment"],null,R.a.createElement("a",{onClick:n.tiaozhuan1.bind(k()(n),a)},Object(I["formatMessage"])({id:"rule.look"})))))}}],n.handleOk=function(e){n.setState({visible:!1})},n.handleCancel=function(e){n.setState({visible:!1})},n.tiaozhuan1=function(e){var a=n.state,t=a.current,i=a.size,r=a.examineName,o=a.effective,l=a.total;if(e){var s={radarId:e.id,syscode:e.syscode,name:e.examineName,iflag:3,radarNo:e.radarNo,version:e.version,type:e.type,insertDate:e.warningTime,dataNum:e.dataNum,changeWay:e.changeWay,current:t,size:i,examineName:r,effective:o,total:l};"15"===e.type||"16"===e.type||"17"===e.type||"20"===e.type||"26"===e.type?W["a"].push({pathname:"/marking/jiankong/jwXzcfMarkingck",query:s}):"12"===e.type||"11"===e.type||"13"===e.type||"10"===e.type?W["a"].push({pathname:"/marking/jiankong/jwSsscMarkingck",query:s}):"25"===e.type?W["a"].push({pathname:"/marking/jiankong/jwjyfwck",query:s}):"21"===e.type?W["a"].push({pathname:"/marking/jiankong/jwdwtzbgck",query:s}):"8"===e.type?W["a"].push({pathname:"/marking/jiankong/jwzyryck",query:s}):"4"===e.type?W["a"].push({pathname:"/marking/jiankong/jwfddbrck",query:s}):"7"===e.type?W["a"].push({pathname:"/marking/jiankong/jwgdbgck",query:s}):"5"===e.type?W["a"].push({pathname:"/marking/jiankong/jwzczbck",query:s}):"24"===e.type?W["a"].push({pathname:"/marking/jiankong/jwqydzck",query:s}):"6"===e.type?W["a"].push({pathname:"/marking/jiankong/Jwjyztck",query:s}):"34"===e.type&&W["a"].push({pathname:"/marking/jiankong/jwMtck",query:s})}},n.tiaozhuan=function(e){if(e){var a=n.props.dispatch,t=n.state,i=t.current,r=t.size,o=t.examineName,l=t.effective,s=t.total,c={radarId:e.id};a({type:"jwleidajiankongModel/yanzhengIndex",payload:c}).then(function(a){if(3!==a){var t={radarId:e.id,syscode:e.syscode,name:e.examineName,iflag:3,radarNo:e.radarNo,version:e.version,type:e.type,insertDate:e.warningTime,dataNum:e.dataNum,changeWay:e.changeWay,current:i,size:r,examineName:o,effective:l,total:s,dbState:e.dbState};"15"===e.type||"16"===e.type||"17"===e.type||"20"===e.type||"26"===e.type?W["a"].push({pathname:"/marking/jiankong/jwXzcfMarking",query:t}):"34"===e.type?W["a"].push({pathname:"/marking/jiankong/jwMt",query:t}):"12"===e.type||"11"===e.type||"13"===e.type||"10"===e.type?W["a"].push({pathname:"/marking/jiankong/jwSsscMarking",query:t}):"25"===e.type?W["a"].push({pathname:"/marking/jiankong/jwjyfw",query:t}):"21"===e.type?W["a"].push({pathname:"/marking/jiankong/jwdwtzbg",query:t}):"8"===e.type?W["a"].push({pathname:"/marking/jiankong/jwzyry",query:t}):"4"===e.type?W["a"].push({pathname:"/marking/jiankong/jwfddbr",query:t}):"7"===e.type?W["a"].push({pathname:"/marking/jiankong/jwgdbg",query:t}):"5"===e.type?W["a"].push({pathname:"/marking/jiankong/Jwzczb",query:t}):"24"===e.type?W["a"].push({pathname:"/marking/jiankong/jwqydz",query:t}):"6"===e.type&&W["a"].push({pathname:"/marking/jiankong/Jwjyzt",query:t})}else m["a"].info({title:"\u6b64\u516c\u53f8\u5b58\u5728\u672a\u6253\u6807\u7684\u6570\u636e\uff0c\u6b64\u6570\u636e\u4e0d\u80fd\u6253\u6807\uff01"})})}},n.search=function(){var e=n.props.dispatch,a=n.state.isClick,t=n.state,i=t.examineName,r=t.risklevel,o=t.effective,l=k()(n);if(a){var s={examineName:i,risklevel:r,dbState:o};e({type:"jwRadarModel/searchRadar",payload:s}).then(function(){var e=n.props.jwRadarModel.data;e&&e.pagination&&n.setState({current:e.pagination.current})}),n.setState({isClick:!1}),setTimeout(function(){l.setState({isClick:!0})},1e3)}},n.handleStandardTableChange=function(e){var a=n.props.dispatch,t=n.state,i=t.examineName,r=t.effective;n.setState({iflag:"0",examineName:i,dbState:r,total:e.total,current:e.current,size:e.pageSize});var o={iflag:"0","page.current":e.current,"page.size":e.pageSize,examineName:i,dbState:r,"page.total":e.total,total:e.total,current:e.current,size:e.pageSize};a({type:"jwRadarModel/searchRadar",payload:o})},n.handleStandardTableChangeXinHao=function(e){var a=n.props.dispatch,t=n.state,i=t.examineName,r=t.risklevel;n.setState({iflag:"0",examineName:i,risklevel:r,total:e.total,current:e.current,size:e.pageSize});var o={iflag:"0","page.current":e.current,"page.size":e.pageSize,examineName:i,risklevel:r,total:e.total};a({type:"jwRadarModel/searchfxxh",payload:o})},n.state={selectedRows:[],isClick:!0,dataSource:[]},n}return f()(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props,t=a.dispatch,n=a.location,i=n.query,r=i.current,o=i.size,l=i.examineName,s=i.effective,c=i.total;this.setState({examineName:l,effective:s,size:o,total:c});var d={"page.current":r,"page.size":o,examineName:l,effective:s,"page.total":c};t({type:"jwRadarModel/searchRadar",payload:d}).then(function(){var a=e.props.jwRadarModel.data;a&&a.pagination&&e.setState({current:a.pagination.current})})}},{key:"showModal",value:function(e,a){this.setState({visible:!0,id:a}),this.props.dispatch({type:"jwRadarModel/searchfxxh",payload:{id:a}})}},{key:"startonChange",value:function(e,a){this.setState({orderDate:a})}},{key:"endonChange",value:function(e,a){this.setState({ddate:a})}},{key:"termofvalidity",value:function(e){this.setState({effective:e})}},{key:"risklevel",value:function(e){this.setState({risklevel:e})}},{key:"handleChange",value:function(e){var a=this;this.setState({examineName:e});var t=[];D.a.get("".concat(O["a"],"/account/order/getname"),{params:{examineName:e}}).then(function(e){var n=e.data;null==n&&(n=[Object(I["formatMessage"])({id:"jindiao.JwReconciliation.null"})]),t=n.map(function(e){return R.a.createElement(B,{key:e},e)}),a.setState({dataSource:t})})}},{key:"handleChangelike",value:function(e){this.setState({examineName:e});var a=this,t=[];t.length=0,D.a.get("".concat(O["a"],"/risk/jwRisk/getriskByName"),{params:{examineName:e}}).then(function(e){if(null!=e.data&&e.data.length>0)for(var n=0;n<e.data.length;n++)t.push(R.a.createElement(B,{key:e.data[n]},e.data[n]));else t.push(R.a.createElement(B,{key:Object(I["formatMessage"])({id:"jindiao.JwReconciliation.null"}),disabled:!0},Object(I["formatMessage"])({id:"jindiao.JwReconciliation.null"})));a.setState({dataSource:t})}).catch(function(e){})}},{key:"renderRiskAssembly",value:function(){var e=this,a=this.props.form.getFieldDecorator,t=this.state,n=t.dataSource,i=t.effective,r=t.examineName;return R.a.createElement(l["a"],{bordered:!0,style:{height:80}},R.a.createElement(S["a"],null,R.a.createElement(s["a"],{gutter:{md:4,lg:20,xl:12}},R.a.createElement(d["a"],{md:2,sm:24,style:{float:"right"}},R.a.createElement(F,null,a("search",{})(R.a.createElement(L["a"],{authority:"marking:markingJiankong:search"},R.a.createElement(u["a"],{type:"primary",style:{backgroundColor:"#3D73FE"},onClick:this.search},Object(I["formatMessage"])({id:"jindiao.JwWqkrisk.jwwqk.search"})))))),R.a.createElement(d["a"],{md:3,sm:24,style:{float:"right"}},R.a.createElement(F,null,a("reportstartdate",{initialValue:i})(R.a.createElement(z["a"],{style:{width:120},placeholder:"\u6253\u6807\u72b6\u6001",onChange:this.termofvalidity.bind(this)},R.a.createElement(B,{value:"-1"},"\u5168\u90e8"),R.a.createElement(B,{value:"1"},"\u5df2\u6253\u6807"),R.a.createElement(B,{value:"0"},"\u672a\u6253\u6807"))))),R.a.createElement(d["a"],{lg:5,md:2,sm:24,style:{float:"right"}},R.a.createElement(F,null,a("name",{initialValue:r})(R.a.createElement(c["a"],{ref:function(a){return e.input=a},dataSource:n,onChange:this.handleChange.bind(this),placeholder:Object(I["formatMessage"])({id:"jindiao.JwReconciliation.name"})})))))))}},{key:"render",value:function(){var e=this.state,a=e.visible,t=e.selectedRows,n=this.props,i=n.jwRadarModel,r=i.data,o=i.data1,s=n.loading;return R.a.createElement(C["a"],null,this.renderRiskAssembly(),R.a.createElement(l["a"],{bodyStyle:{paddingTop:0}},R.a.createElement(J["a"],{rowKey:"id",selectedRows:t,loading:s,data:r,columns:this.columns,onSelectRow:null,rowSelection:null,onChange:this.handleStandardTableChange.bind(this),scroll:{x:"1120px"}})),R.a.createElement(m["a"],{title:"\u98ce\u9669\u4fe1\u53f7\u5217\u8868\u660e\u7ec6",visible:a,onOk:this.handleOk,onCancel:this.handleCancel,width:1e3},R.a.createElement(J["a"],{selectedRows:t,columns:K,data:o,onSelectRow:null,rowSelection:null,scroll:{y:"800px"},onChange:this.handleStandardTableChangeXinHao})))}}]),t}(N["PureComponent"]),r=o))||r)||r);a["default"]=V}}]);