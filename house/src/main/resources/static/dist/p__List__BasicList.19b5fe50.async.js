(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[56],{WN3O:function(e,t,a){e.exports={standardList:"antd-pro-pages-list-basic-list-standardList",headerInfo:"antd-pro-pages-list-basic-list-headerInfo",listContent:"antd-pro-pages-list-basic-list-listContent",listContentItem:"antd-pro-pages-list-basic-list-listContentItem",extraContentSearch:"antd-pro-pages-list-basic-list-extraContentSearch",listCard:"antd-pro-pages-list-basic-list-listCard",standardListForm:"antd-pro-pages-list-basic-list-standardListForm",formResult:"antd-pro-pages-list-basic-list-formResult"}},w9uU:function(e,t,a){"use strict";a.r(t);a("Mwp2");var n,r,l,i,s=a("VXEj"),o=(a("Telt"),a("Tckk")),c=(a("IzEo"),a("bx4M")),u=(a("14J3"),a("BMrR")),d=(a("jCWc"),a("kPKH")),m=(a("iQDF"),a("+eQT")),p=a("jehZ"),f=a.n(p),E=(a("+L6B"),a("2/Rp")),h=(a("qVdP"),a("jsC+")),v=(a("Pwec"),a("CtXQ")),b=(a("lUTK"),a("BvKs")),y=(a("MXD1"),a("CFYs")),g=(a("2qtc"),a("kLXV")),w=a("p0pE"),C=a.n(w),k=a("2Taf"),D=a.n(k),x=a("vZ4D"),S=a.n(x),M=a("MhPg"),I=a.n(M),N=a("l4Ni"),L=a.n(N),T=a("ujKo"),O=a.n(T),R=(a("5NDa"),a("5rEg")),Y=(a("OaEy"),a("2fM7")),B=(a("7Kak"),a("9yH6")),V=(a("y8nQ"),a("Vl3Y")),j=a("q1tI"),q=a.n(j),A=a("i8i4"),F=a("wd/R"),H=a.n(F),z=a("MuoO"),K=a("zHco"),P=a("ALo4"),Q=a("WN3O"),J=a.n(Q);function W(e){var t=X();return function(){var a,n=O()(e);if(t){var r=O()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return L()(this,a)}}function X(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var U=V["a"].Item,Z=B["a"].Button,G=B["a"].Group,$=Y["a"].Option,_=R["a"].Search,ee=R["a"].TextArea,te=(n=Object(z["connect"])(function(e){var t=e.list,a=e.loading;return{list:t,loading:a.models.list}}),r=V["a"].create(),n(l=r((i=function(e){I()(a,e);var t=W(a);function a(){var e;D()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={visible:!1,done:!1},e.formLayout={labelCol:{span:7},wrapperCol:{span:13}},e.showModal=function(){e.setState({visible:!0,current:void 0})},e.showEditModal=function(t){e.setState({visible:!0,current:t})},e.handleDone=function(){setTimeout(function(){return e.addBtn.blur()},0),e.setState({done:!1,visible:!1})},e.handleCancel=function(){setTimeout(function(){return e.addBtn.blur()},0),e.setState({visible:!1})},e.handleSubmit=function(t){t.preventDefault();var a=e.props,n=a.dispatch,r=a.form,l=e.state.current,i=l?l.id:"";setTimeout(function(){return e.addBtn.blur()},0),r.validateFields(function(t,a){t||(e.setState({done:!0}),n({type:"list/submit",payload:C()({id:i},a)}))})},e.deleteItem=function(t){var a=e.props.dispatch;a({type:"list/submit",payload:{id:t}})},e}return S()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"list/fetch",payload:{count:5}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.list.list,n=t.loading,r=this.props.form.getFieldDecorator,l=this.state,i=l.visible,p=l.done,w=l.current,C=void 0===w?{}:w,k=function(t,a){"edit"===t?e.showEditModal(a):"delete"===t&&g["a"].confirm({title:"\u5220\u9664\u4efb\u52a1",content:"\u786e\u5b9a\u5220\u9664\u8be5\u4efb\u52a1\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return e.deleteItem(a.id)}})},D=p?{footer:null,onCancel:this.handleDone}:{okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel},x=function(e){var t=e.title,a=e.value,n=e.bordered;return q.a.createElement("div",{className:J.a.headerInfo},q.a.createElement("span",null,t),q.a.createElement("p",null,a),n&&q.a.createElement("em",null))},S=q.a.createElement("div",{className:J.a.extraContent},q.a.createElement(G,{defaultValue:"all"},q.a.createElement(Z,{value:"all"},"\u5168\u90e8"),q.a.createElement(Z,{value:"progress"},"\u8fdb\u884c\u4e2d"),q.a.createElement(Z,{value:"waiting"},"\u7b49\u5f85\u4e2d")),q.a.createElement(_,{className:J.a.extraContentSearch,placeholder:"\u8bf7\u8f93\u5165",onSearch:function(){return{}}})),M={showSizeChanger:!0,showQuickJumper:!0,pageSize:5,total:50},I=function(e){var t=e.data,a=t.owner,n=t.createdAt,r=t.percent,l=t.status;return q.a.createElement("div",{className:J.a.listContent},q.a.createElement("div",{className:J.a.listContentItem},q.a.createElement("span",null,"Owner"),q.a.createElement("p",null,a)),q.a.createElement("div",{className:J.a.listContentItem},q.a.createElement("span",null,"\u5f00\u59cb\u65f6\u95f4"),q.a.createElement("p",null,H()(n).format("YYYY-MM-DD HH:mm"))),q.a.createElement("div",{className:J.a.listContentItem},q.a.createElement(y["a"],{percent:r,status:l,strokeWidth:6,style:{width:180}})))},N=function(e){return q.a.createElement(h["a"],{overlay:q.a.createElement(b["b"],{onClick:function(t){var a=t.key;return k(a,e.current)}},q.a.createElement(b["b"].Item,{key:"edit"},"\u7f16\u8f91"),q.a.createElement(b["b"].Item,{key:"delete"},"\u5220\u9664"))},q.a.createElement("a",null,"\u66f4\u591a ",q.a.createElement(v["a"],{type:"down"})))},L=function(){return p?q.a.createElement(P["a"],{type:"success",title:"\u64cd\u4f5c\u6210\u529f",description:"\u4e00\u7cfb\u5217\u7684\u4fe1\u606f\u63cf\u8ff0\uff0c\u5f88\u77ed\u540c\u6837\u4e5f\u53ef\u4ee5\u5e26\u6807\u70b9\u3002",actions:q.a.createElement(E["a"],{type:"primary",onClick:e.handleDone},"\u77e5\u9053\u4e86"),className:J.a.formResult}):q.a.createElement(V["a"],{onSubmit:e.handleSubmit},q.a.createElement(U,f()({label:"\u4efb\u52a1\u540d\u79f0"},e.formLayout),r("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0"}],initialValue:C.title})(q.a.createElement(R["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),q.a.createElement(U,f()({label:"\u5f00\u59cb\u65f6\u95f4"},e.formLayout),r("createdAt",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5f00\u59cb\u65f6\u95f4"}],initialValue:C.createdAt?H()(C.createdAt):null})(q.a.createElement(m["a"],{showTime:!0,placeholder:"\u8bf7\u9009\u62e9",format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}}))),q.a.createElement(U,f()({label:"\u4efb\u52a1\u8d1f\u8d23\u4eba"},e.formLayout),r("owner",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4efb\u52a1\u8d1f\u8d23\u4eba"}],initialValue:C.owner})(q.a.createElement(Y["a"],{placeholder:"\u8bf7\u9009\u62e9"},q.a.createElement($,{value:"\u4ed8\u6653\u6653"},"\u4ed8\u6653\u6653"),q.a.createElement($,{value:"\u5468\u6bdb\u6bdb"},"\u5468\u6bdb\u6bdb")))),q.a.createElement(U,f()({},e.formLayout,{label:"\u4ea7\u54c1\u63cf\u8ff0"}),r("subDescription",{rules:[{message:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7b26\u7684\u4ea7\u54c1\u63cf\u8ff0\uff01",min:5}],initialValue:C.subDescription})(q.a.createElement(ee,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7b26"}))))};return q.a.createElement(K["a"],null,q.a.createElement("div",{className:J.a.standardList},q.a.createElement(c["a"],{bordered:!1},q.a.createElement(u["a"],null,q.a.createElement(d["a"],{sm:8,xs:24},q.a.createElement(x,{title:"\u6211\u7684\u5f85\u529e",value:"8\u4e2a\u4efb\u52a1",bordered:!0})),q.a.createElement(d["a"],{sm:8,xs:24},q.a.createElement(x,{title:"\u672c\u5468\u4efb\u52a1\u5e73\u5747\u5904\u7406\u65f6\u95f4",value:"32\u5206\u949f",bordered:!0})),q.a.createElement(d["a"],{sm:8,xs:24},q.a.createElement(x,{title:"\u672c\u5468\u5b8c\u6210\u4efb\u52a1\u6570",value:"24\u4e2a\u4efb\u52a1"})))),q.a.createElement(c["a"],{className:J.a.listCard,bordered:!1,title:"\u6807\u51c6\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:S},q.a.createElement(E["a"],{type:"dashed",style:{width:"100%",marginBottom:8},icon:"plus",onClick:this.showModal,ref:function(t){e.addBtn=Object(A["findDOMNode"])(t)}},"\u6dfb\u52a0"),q.a.createElement(s["a"],{size:"large",rowKey:"id",loading:n,pagination:M,dataSource:a,renderItem:function(t){return q.a.createElement(s["a"].Item,{actions:[q.a.createElement("a",{onClick:function(a){a.preventDefault(),e.showEditModal(t)}},"\u7f16\u8f91"),q.a.createElement(N,{current:t})]},q.a.createElement(s["a"].Item.Meta,{avatar:q.a.createElement(o["a"],{src:t.logo,shape:"square",size:"large"}),title:q.a.createElement("a",{href:t.href},t.title),description:t.subDescription}),q.a.createElement(I,{data:t}))}}))),q.a.createElement(g["a"],f()({title:p?null:"\u4efb\u52a1".concat(C.id?"\u7f16\u8f91":"\u6dfb\u52a0"),className:J.a.standardListForm,width:640,bodyStyle:p?{padding:"72px 0"}:{padding:"28px 0 0"},destroyOnClose:!0,visible:i},D),L()))}}]),a}(j["PureComponent"]),l=i))||l)||l);t["default"]=te}}]);