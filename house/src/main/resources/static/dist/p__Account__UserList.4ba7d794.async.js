(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{HWo2:function(e,t,n){},KxFI:function(e,t,n){e.exports={"ant-tree":"ant-tree","ant-tree-directory":"ant-tree-directory","ant-tree-child-tree":"ant-tree-child-tree","ant-tree-switcher":"ant-tree-switcher","ant-tree-switcher-noop":"ant-tree-switcher-noop","ant-tree-checkbox":"ant-tree-checkbox","ant-tree-node-content-wrapper":"ant-tree-node-content-wrapper","ant-tree-node-selected":"ant-tree-node-selected","ant-tree-treenode-selected":"ant-tree-treenode-selected","ant-tree-checkbox-inner":"ant-tree-checkbox-inner","ant-tree-checkbox-checked":"ant-tree-checkbox-checked","ant-tree-checkbox-input":"ant-tree-checkbox-input","ant-tree-checkbox-wrapper":"ant-tree-checkbox-wrapper",antCheckboxEffect:"antCheckboxEffect","ant-tree-checkbox-disabled":"ant-tree-checkbox-disabled",none:"none","ant-tree-checkbox-group":"ant-tree-checkbox-group","ant-tree-checkbox-group-item":"ant-tree-checkbox-group-item","ant-tree-checkbox-indeterminate":"ant-tree-checkbox-indeterminate","drag-over":"drag-over","drag-over-gap-top":"drag-over-gap-top","drag-over-gap-bottom":"drag-over-gap-bottom","filter-node":"filter-node","ant-tree-treenode-loading":"ant-tree-treenode-loading","ant-tree-switcher_close":"ant-tree-switcher_close","ant-tree-switcher-loading-icon":"ant-tree-switcher-loading-icon","ant-tree-switcher_open":"ant-tree-switcher_open","ant-tree-iconEle":"ant-tree-iconEle","ant-select-switcher-icon":"ant-select-switcher-icon","ant-tree-switcher-icon":"ant-tree-switcher-icon","ant-tree-child-tree-open":"ant-tree-child-tree-open","ant-tree-treenode-disabled":"ant-tree-treenode-disabled","ant-tree-icon__open":"ant-tree-icon__open","ant-tree-icon__close":"ant-tree-icon__close","ant-tree-show-line":"ant-tree-show-line","ant-tree-icon-hide":"ant-tree-icon-hide","ant-tree-block-node":"ant-tree-block-node"}},n6xW:function(e,t,n){"use strict";n.r(t);n("sRBo");var r,a=n("kaz8"),o=n("jehZ"),i=n.n(o),l=(n("O3gP"),n("lrIw")),c=(n("IzEo"),n("bx4M")),s=(n("+L6B"),n("2/Rp")),u=(n("5NDa"),n("5rEg")),d=(n("Awhp"),n("KrTs")),p=n("2Taf"),f=n.n(p),m=n("vZ4D"),h=n.n(m),y=n("MhPg"),b=n.n(y),g=n("l4Ni"),v=n.n(g),E=n("ujKo"),w=n.n(E),x=n("eHn4"),k=n.n(x),S=(n("2qtc"),n("kLXV")),O=(n("B9cy"),n("Ol7k")),C=(n("OaEy"),n("2fM7")),j=(n("y8nQ"),n("Vl3Y")),N=(n("g9YV"),n("wCAj")),I=n("q1tI"),D=n.n(I),K=n("MuoO"),R=n("zHco"),M=n("LLXN"),T=n("xNuS"),A=n("CkN6"),P=(n("Pwec"),n("CtXQ")),_=(n("cIOH"),n("KxFI"),n("fAei")),F=n("TSYQ"),L=n.n(F),q=n("BGR+"),U=n("sEfC"),V=n.n(U),z=n("OZM5"),B=n("wEI+"),H=n("VCL8");function W(e){return X(e)||Z(e)||Q()}function Q(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Z(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function X(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Y(e,t){var n=Object(z["k"])(e)||[];function r(e){var n=e.key,r=e.props.children;!1!==t(n,e)&&Y(r,t)}n.forEach(r)}function G(e){var t=Object(z["h"])(e),n=t.keyEntities;return Object.keys(n)}function J(e,t,n,a){var o=[],i=r.None;if(n&&n===a)return[n];if(!n||!a)return[];function l(e){return e===n||e===a}return Y(e,function(e){if(i===r.End)return!1;if(l(e)){if(o.push(e),i===r.None)i=r.Start;else if(i===r.Start)return i=r.End,!1}else i===r.Start&&o.push(e);return-1!==t.indexOf(e)}),o}function $(e,t){var n=W(t),r=[];return Y(e,function(e,t){var a=n.indexOf(e);return-1!==a&&(r.push(t),n.splice(a,1)),!!n.length}),r}function ee(e){return ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e){return ae(e)||re(e)||ne()}function ne(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function re(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function ae(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),e}function se(e,t){return!t||"object"!==ee(t)&&"function"!==typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}function pe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}function fe(e,t){return fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fe(e,t)}(function(e){e[e["None"]=0]="None",e[e["Start"]=1]="Start",e[e["End"]=2]="End"})(r||(r={}));var me=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};function he(e){var t=e.isLeaf,n=e.expanded;return t?I["createElement"](P["a"],{type:"file"}):I["createElement"](P["a"],{type:n?"folder-open":"folder"})}var ye=function(e){function t(e){var n;ie(this,t),n=se(this,de(t).call(this,e)),n.onExpand=function(e,t){var r=n.props.onExpand;if(n.setUncontrolledState({expandedKeys:e}),r)return r(e,t)},n.onClick=function(e,t){var r=n.props,a=r.onClick,o=r.expandAction;"click"===o&&n.onDebounceExpand(e,t),a&&a(e,t)},n.onDoubleClick=function(e,t){var r=n.props,a=r.onDoubleClick,o=r.expandAction;"doubleClick"===o&&n.onDebounceExpand(e,t),a&&a(e,t)},n.onSelect=function(e,t){var r,a=n.props,o=a.onSelect,i=a.multiple,l=a.children,c=n.state.expandedKeys,s=void 0===c?[]:c,u=t.node,d=t.nativeEvent,p=u.props.eventKey,f=void 0===p?"":p,m={},h=oe({},t,{selected:!0}),y=d.ctrlKey||d.metaKey,b=d.shiftKey;i&&y?(r=e,n.lastSelectedKey=f,n.cachedSelectedKeys=r,h.selectedNodes=$(l,r)):i&&b?(r=Array.from(new Set([].concat(te(n.cachedSelectedKeys||[]),te(J(l,s,f,n.lastSelectedKey))))),h.selectedNodes=$(l,r)):(r=[f],n.lastSelectedKey=f,n.cachedSelectedKeys=r,h.selectedNodes=[t.node]),m.selectedKeys=r,o&&o(r,h),n.setUncontrolledState(m)},n.setTreeRef=function(e){n.tree=e},n.expandFolderNode=function(e,t){var r=t.props.isLeaf;if(!(r||e.shiftKey||e.metaKey||e.ctrlKey)){var a=n.tree.tree;a.onNodeExpand(e,t)}},n.setUncontrolledState=function(e){var t=Object(q["a"])(e,Object.keys(n.props));Object.keys(t).length&&n.setState(t)},n.renderDirectoryTree=function(e){var t=e.getPrefixCls,r=n.props,a=r.prefixCls,o=r.className,i=me(r,["prefixCls","className"]),l=n.state,c=l.expandedKeys,s=l.selectedKeys,u=t("tree",a),d=L()("".concat(u,"-directory"),o);return I["createElement"](De,oe({icon:he,ref:n.setTreeRef},i,{prefixCls:u,className:d,expandedKeys:c,selectedKeys:s,onSelect:n.onSelect,onClick:n.onClick,onDoubleClick:n.onDoubleClick,onExpand:n.onExpand}))};var r=e.defaultExpandAll,a=e.defaultExpandParent,o=e.expandedKeys,i=e.defaultExpandedKeys,l=e.children,c=Object(z["h"])(l),s=c.keyEntities;return n.state={selectedKeys:e.selectedKeys||e.defaultSelectedKeys||[]},n.state.expandedKeys=r?G(e.children):a?Object(z["f"])(o||i,s):o||i,n.onDebounceExpand=V()(n.expandFolderNode,200,{leading:!0}),n}return pe(t,e),ce(t,[{key:"render",value:function(){return I["createElement"](B["a"],null,this.renderDirectoryTree)}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"expandedKeys"in e&&(t.expandedKeys=e.expandedKeys),"selectedKeys"in e&&(t.selectedKeys=e.selectedKeys),t}}]),t}(I["Component"]);ye.defaultProps={showIcon:!0,expandAction:"click"},Object(H["polyfill"])(ye);var be=ye,ge=n("n4lo");function ve(e){return ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}function Oe(e,t){return!t||"object"!==ve(t)&&"function"!==typeof t?Ce(e):t}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Ne(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ie(e,t){return Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ie(e,t)}var De=function(e){function t(){var e;return xe(this,t),e=Oe(this,je(t).apply(this,arguments)),e.renderSwitcherIcon=function(t,n,r){var a=r.isLeaf,o=r.expanded,i=r.loading,l=e.props.showLine;if(i)return I["createElement"](P["a"],{type:"loading",className:"".concat(t,"-switcher-loading-icon")});if(l)return a?I["createElement"](P["a"],{type:"file",className:"".concat(t,"-switcher-line-icon")}):I["createElement"](P["a"],{type:o?"minus-square":"plus-square",className:"".concat(t,"-switcher-line-icon"),theme:"outlined"});var c="".concat(t,"-switcher-icon");if(a)return null;if(n){var s=n.props.className||"";return I["cloneElement"](n,{className:L()(s,c)})}return I["createElement"](P["a"],{type:"caret-down",className:c,theme:"filled"})},e.setTreeRef=function(t){e.tree=t},e.renderTree=function(t){var n,r=t.getPrefixCls,a=e.props,o=a.prefixCls,i=a.className,l=a.showIcon,c=a.switcherIcon,s=a.blockNode,u=a.checkable,d=r("tree",o);return I["createElement"](_["b"],Ee({ref:e.setTreeRef},a,{prefixCls:d,className:L()(i,(n={},we(n,"".concat(d,"-icon-hide"),!l),we(n,"".concat(d,"-block-node"),s),n)),checkable:u?I["createElement"]("span",{className:"".concat(d,"-checkbox-inner")}):u,switcherIcon:function(t){return e.renderSwitcherIcon(d,c,t)}}),e.props.children)},e}return Ne(t,e),Se(t,[{key:"render",value:function(){return I["createElement"](B["a"],null,this.renderTree)}}]),t}(I["Component"]);De.TreeNode=_["a"],De.DirectoryTree=be,De.defaultProps={checkable:!1,showIcon:!1,openAnimation:Ee({},ge["a"],{appear:null}),blockNode:!1};var Ke,Re,Me,Te=De;function Ae(e){var t=Pe();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}function Pe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var _e,Fe,Le,qe=Te.TreeNode,Ue=(Ke=Object(K["connect"])(function(e){var t,n=e.userlist,r=e.loading,a=e.user;return t={userlist:n,loading:r.effects["userlist/fetch"]},k()(t,"loading",r.effects["userlist/selectByName"]),k()(t,"currentUser",a.currentUser),t}),Ke((Me=function(e){b()(n,e);var t=Ae(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),e.list=[],e.renderTree=function(t){return t.map(function(t){return null===t.childrenList?D.a.createElement(qe,{icon:D.a.createElement(P["a"],{type:"user",style:{color:"blue"}}),title:t.name,value:t.id,key:t.id}):D.a.createElement(qe,{icon:D.a.createElement(P["a"],{type:"user",style:{color:"blue"}}),title:t.name,value:t.id,key:t.id},e.renderTree(t.childrenList))})},e.onSelect=function(t){var n=e.props,r=n.dispatch,a=n.currentUser,o=t.join();e.props.queryDeptId(o),r({type:"userlist/selectByName",payload:{deptId:o,id:a.id}})},e}return h()(n,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"userlist/fetch",payload:0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.userlist.DataSource,r=(t.loading,[]);return void 0!==n&&n.length>0&&n.map(function(t){return e.props.handleCompany(t.name),t.childrenList?r.push(D.a.createElement(qe,{icon:D.a.createElement(P["a"],{type:"user",style:{color:"blue"}}),title:t.name,value:t.id,key:t.id},e.renderTree(t.childrenList))):r.push(D.a.createElement(qe,{icon:D.a.createElement(P["a"],{type:"user",style:{color:"blue"}}),title:t.name,value:t.id,key:t.id}))}),D.a.createElement("div",null,D.a.createElement(Te,{showLine:!0,showIcon:!0,defaultExpandAll:!0,onSelect:this.onSelect.bind(this)},r))}}]),n}(I["PureComponent"]),Re=Me)),n("nRaC"),n("5RzL"));function Ve(e){var t=ze();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}function ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Be,He,We,Qe,Ze=Ue["a"].TreeNode,Xe=Ue["a"].SHOW_PARENT,Ye=(_e=Object(K["connect"])(function(e){var t=e.userlist,n=e.loading;return{userlist:t,loading:n.effects["userlist/fetch"]}}),_e((Le=function(e){b()(n,e);var t=Ve(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),e.state={},e.list=[],e.renderTree1=function(t){return t.map(function(t){return null===t.childrenList?D.a.createElement(Ze,{icon:D.a.createElement(P["a"],{type:"user",style:{color:"blue"}}),title:t.name,value:t.id,key:t.id}):D.a.createElement(Ze,{icon:D.a.createElement(P["a"],{type:"user",style:{color:"blue"}}),title:t.name,value:t.id,key:t.id},e.renderTree1(t.childrenList))})},e.selectDepItem=function(t){e.props.onChange(t),"function"===typeof e.props.onSelect&&e.props.onSelect(t)},e}return h()(n,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"userlist/fetch",payload:0})}},{key:"conversionObject",value:function(){var e=this.props.value;return e||[]}},{key:"render",value:function(){var e=this,t=this.conversionObject(),n=this.props,r=n.userlist.DataSource,a=(n.loading,[]);return void 0!==r&&r.length>0&&r.map(function(t){return t.childrenList?a.push(D.a.createElement(Ze,{icon:D.a.createElement(P["a"],{type:"user",style:{color:"blue"}}),title:t.name,value:t.id,key:t.id},e.renderTree1(t.childrenList))):a.push(D.a.createElement(Ze,{icon:D.a.createElement(P["a"],{type:"user",style:{color:"blue"}}),title:t.name,value:t.id,key:t.id}))}),D.a.createElement(Ue["a"],{disabled:!0,value:t,style:{width:220},placeholder:Object(M["formatMessage"])({id:"info.all"}),dropdownStyle:{maxHeight:400,overflow:"auto"},allowClear:!0,onChange:this.selectDepItem,treeCheckable:!0,maxTagCount:2,showCheckedStrategy:Xe},a)}}]),n}(I["PureComponent"]),Fe=Le)),n("vDqi")),Ge=n.n(Ye),Je=(n("Qyje"),n("Aeqt")),$e=(n("HWo2"),n("HZnN"));function et(e){var t=tt();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}function tt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}N["a"].Column;var nt=j["a"].Item,rt=C["a"].Option,at=O["a"].Sider,ot=(S["a"].confirm,[]),it=["error","processing"],lt=["".concat(Object(M["formatMessage"])({id:"userlist.Cancelled"})),"".concat(Object(M["formatMessage"])({id:"userlist.Unregistered"}))],ct=(Be=Object(K["connect"])(function(e){var t,n=e.userlist,r=e.loading,a=e.user;return t={userlist:n,loading:r.effects["userlist/fetch"]},k()(t,"loading",r.effects["userlist/selectByName"]),k()(t,"loading",r.effects["userlist/SelectRole"]),k()(t,"currentUser",a.currentUser),t}),He=j["a"].create(),Be(We=He((Qe=function(e){b()(n,e);var t=et(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),e.state={add:"",visible:!1,dataSource:[],selectedRows:[],id:"",userTips:"",load:!1,updateDisplayName:"none",addDisplayName:"none",hideUpdateCode:"disabled",guanbi:!0,biaoqian:"",fenye:[],iflag:"",handoverName:"",handoverCode:"",deleteDisplayName:"none",handoverCodeTips:"",guanbi1:"",visible1:!1,tip:""},e.columns=[{title:Object(M["formatMessage"])({id:"userlist.name"}),dataIndex:"userName",width:"100px",render:function(e){return D.a.createElement(T["a"],{tooltip:!0,lines:1},e)}},{title:Object(M["formatMessage"])({id:"userlist.loginname"}),dataIndex:"userCode",width:"200px",render:function(e){return D.a.createElement(T["a"],{maxLine:15,tooltip:!0,lines:1},e)}},{title:Object(M["formatMessage"])({id:"userlist.companyname"}),dataIndex:"companyName",width:"200px",render:function(e){return D.a.createElement(T["a"],{maxLine:15,tooltip:!0,lines:1},e)}},{title:Object(M["formatMessage"])({id:"userlist.company"}),dataIndex:"company",width:"200px",render:function(e){return D.a.createElement(T["a"],{maxLine:15,tooltip:!0,lines:1},e)}},{title:Object(M["formatMessage"])({id:"userlist.role"}),dataIndex:"handoverName",width:"100px",render:function(e){return D.a.createElement(T["a"],{tooltip:!0,lines:1},e)}},{title:Object(M["formatMessage"])({id:"userlist.shangjicode"}),dataIndex:"handoverCode",width:"200px",render:function(e){return D.a.createElement(T["a"],{tooltip:!0,lines:1},e)}},{title:Object(M["formatMessage"])({id:"userlist.zhuangtai"}),dataIndex:"iflag",render:function(e){var t=0===e?0:1;return D.a.createElement(d["a"],{status:it[t],text:lt[t]})},width:"100px"},{title:Object(M["formatMessage"])({id:"userlist.action"}),width:"70px",render:function(t,n){return D.a.createElement($e["a"],{authority:"account:userlist:look"},D.a.createElement("a",{style:{color:"#3D73FE"},onClick:function(){e.updateAccount(n.id)}},Object(M["formatMessage"])({id:"userlist.chakan"})))}}],e.handleStandardTableChange=function(t){var n=e.props,r=n.dispatch,a=n.form,o=n.currentUser,i=e.state.id;e.setState({fenye:t}),a.validateFields(function(e,n){var a={"page.current":t.current,"page.size":t.pageSize,"page.total":t.total,userName:n.username,deptId:i,id:o.id};r({type:"userlist/selectByName",payload:a})})},e.handleSearch=function(t){var n=e.props,r=n.dispatch,a=n.form,o=n.currentUser;a.validateFields(function(e,t){r({type:"userlist/selectByName",payload:{userName:t.username,id:o.id}})})},e.Change=function(t){e.setState({dataSource:!t||t.indexOf("@")>=0?[]:["".concat(t,"@gmail.com"),"".concat(t,"@163.com"),"".concat(t,"@qq.com"),"".concat(t,"@aliyun.com")]})},e.RoleChange=function(t){for(var n=e.props,r=n.form,a=n.userlist.RoleSource,o=[],i=0;i<t.length;i++)for(var l=0;l<a.length;l++)t[i]===a[l].name&&o.push(a[l].id);var c=r.setFieldsValue;c({roleIds:o})},e}return h()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dispatch,r=t.currentUser;n({type:"userlist/selectByName",payload:{id:r.id}}),""!==r&&null!==r&&this.setState(function(){e.setState({companyNameDingji:r.companyName})})}},{key:"updateAccount",value:function(e){this.showUpdateModal(e)}},{key:"showUpdateModal",value:function(e){var t=this;this.setState({emailAlert:"1",userCode:"",userName:"",company:"",department:"",position:"",mobile:"",roleIds:"",deptIds:""});var n=this.props.dispatch;n({type:"userlist/SelectRole"});var r=this.props.form,a=r.resetFields;a(),Ge.a.get("".concat(Je["a"],"/account/userlist/querySuperiorAccountByUserCode?id=").concat(e)).then(function(e){t.setState({accountId:e.data})}).catch(function(e){}),Ge.a.get("".concat(Je["a"],"/account/userlist/selectById?id=").concat(e)).then(function(e){t.setState({userCode:e.data.userCode,userName:e.data.userName,company:e.data.company,department:e.data.department,position:e.data.position,mobile:e.data.mobile,deptIds:e.data.deptIds,roleIds:e.data.roleIds,emailAlert:e.data.emailAlert,companyName:e.data.companyName})}).catch(function(e){}),this.setState({visible:!0,addDisplayName:"none",updateDisplayName:"block",hideUpdateCode:"disabled",guanbi:!0,biaoqian:"".concat(Object(M["formatMessage"])({id:"userlist.selectaccount"}))})}},{key:"handleOk",value:function(){var e=this;this.setState({load:!0}),setTimeout(function(){e.setState({load:!1,visible:!1})},3e3)}},{key:"handleCancel",value:function(){this.setState({visible:!1,guanbi:!1,visible1:!1,guanbi1:!1})}},{key:"render",value:function(){var e=this.props,t=e.userlist.RoleSource,n=e.form.getFieldDecorator,r=e.userlist.data,o=e.loading,d=e.currentUser,p=this.state,f=(p.load,p.dataSource),m=p.visible,h=p.selectedRows,y=p.emailAlert,b=p.userCode,g=p.userName,v=p.company,E=p.department,w=p.position,x=p.mobile,k=p.roleIds,N=p.biaoqian,I=p.companyNameDingji,K=p.accountId,T=(p.tip,p.iflag,p.handoverName,p.handoverCode,p.deleteDisplayName,p.visible1,p.selectedRowKeys,p.deptIdsValidate,p.companyName),P=[];void 0!==t&&t.length>0&&t.map(function(e){P.push({label:e.name,value:e.name})}),null!=k&&k.length>0?ot=k:ot.push(function(){ot="111"});d.companyName;var _={labelCol:{xs:{span:26},sm:{span:8}},wrapperCol:{xs:{span:28},sm:{span:14},md:{span:12}}};return D.a.createElement(R["a"],null,D.a.createElement(c["a"],{bordered:!0,style:{height:80}},D.a.createElement(j["a"],{layout:"inline",style:{float:"right",fontSize:16,padding:0,margin:0}},D.a.createElement(nt,null,n("username")(D.a.createElement(u["a"],{size:"large",style:{height:32,verticalAlign:"middle"},placeholder:Object(M["formatMessage"])({id:"userlist.addusername"})}))),D.a.createElement(nt,null,D.a.createElement($e["a"],{authority:"account:userlist:search"},D.a.createElement(s["a"],{style:{position:"relative",top:"2.5px",height:32,backgroundColor:"#3D73FE"},type:"primary",size:"large",onClick:this.handleSearch.bind(this)},Object(M["formatMessage"])({id:"userlist.select"})))))),D.a.createElement(c["a"],{bodyStyle:{paddingTop:0}},D.a.createElement(O["a"],null,D.a.createElement(at,{style:{backgroundColor:"white"},width:"100%"},D.a.createElement("p",{style:{paddingTop:"2%",fontSize:16}},D.a.createElement("span",{style:{paddingLeft:"2%",marginBottom:"2%"}},I)),D.a.createElement(A["a"],{rowKey:function(e){return e.id},selectedRows:h,loading:o,data:r,columns:this.columns,onSelectRow:null,rowSelection:null,onChange:this.handleStandardTableChange})))),this.state.guanbi?D.a.createElement(S["a"],{ref:"modal",title:N,visible:m,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),style:{minWidth:800},footer:[]},D.a.createElement("footer",null,D.a.createElement(j["a"],null,D.a.createElement(nt,i()({},_,{label:D.a.createElement(M["FormattedMessage"],{id:"userlist.loginname"})}),n("userCode",{initialValue:b,rules:[{required:!0}]})(D.a.createElement(l["a"],{disabled:!0,dataSource:f,onChange:this.Change,style:{width:220}}))),D.a.createElement(nt,i()({},_,{label:D.a.createElement(M["FormattedMessage"],{id:"userlist.name"})}),n("userName",{initialValue:g,rules:[{required:!0}]})(D.a.createElement(u["a"],{disabled:!0,style:{width:220}}))),D.a.createElement(nt,i()({},_,{label:D.a.createElement("span",null,D.a.createElement(M["FormattedMessage"],{id:"userlist.shangjicode"}))}),D.a.createElement(O["a"],null,D.a.createElement(at,{width:"60%",style:{backgroundColor:"white"}},n("accountId",{initialValue:K,rules:[{required:!0}]})(D.a.createElement(u["a"],{style:{width:220},disabled:!0}))),D.a.createElement(at,{width:"40%",style:{backgroundColor:"white"}},D.a.createElement("div",{style:{color:"red",fontSize:"2",width:"230px"}},"*\u5982\u679c\u662f\u4e00\u7ea7\u8d26\u53f7\uff0c\u586b\u5199\u672c\u8eab\u8d26\u53f7")))),D.a.createElement(nt,i()({},_,{label:D.a.createElement(M["FormattedMessage"],{id:"userlist.companyname"})}),n("companyName",{initialValue:T})(D.a.createElement(u["a"],{disabled:!0,style:{width:220},z:!0}))),D.a.createElement(nt,i()({},_,{label:D.a.createElement(M["FormattedMessage"],{id:"userlist.company"})}),n("company",{initialValue:v,rules:[{required:!0}]})(D.a.createElement(u["a"],{disabled:!0,style:{width:220}}))),D.a.createElement(nt,i()({},_,{label:D.a.createElement(M["FormattedMessage"],{id:"userlist.dept"})}),n("department",{initialValue:E,rules:[{required:!0}]})(D.a.createElement(u["a"],{disabled:!0,style:{width:220}}))),D.a.createElement(nt,i()({},_,{label:D.a.createElement("span",null,D.a.createElement(M["FormattedMessage"],{id:"userlist.level"}))}),n("position",{initialValue:w})(D.a.createElement(u["a"],{disabled:!0,style:{width:220}}))),D.a.createElement(nt,i()({},_,{label:D.a.createElement("span",null,D.a.createElement(M["FormattedMessage"],{id:"userlist.phone"}))}),n("mobile",{initialValue:x})(D.a.createElement(u["a"],{disabled:!0,style:{width:220}}))),D.a.createElement(nt,i()({},_,{label:D.a.createElement("span",null,D.a.createElement(M["FormattedMessage"],{id:"userlist.mailwarning"}))}),n("emailAlert",{initialValue:y,rules:[{required:!0}]})(D.a.createElement(C["a"],{disabled:!0,style:{margin:"8px 0",width:220}},D.a.createElement(rt,{value:"1"},D.a.createElement(M["FormattedMessage"],{id:"info.yes"})),D.a.createElement(rt,{value:"2"},D.a.createElement(M["FormattedMessage"],{id:"info.no"}))))),D.a.createElement(j["a"].Item,i()({},_,{label:D.a.createElement("span",null,D.a.createElement(M["FormattedMessage"],{id:"userlist.role"}))}),n("roleIds",{initialValue:k})(D.a.createElement(a["a"].Group,{disabled:!0,options:P,style:{width:"100%"},onChange:this.RoleChange})))))):null)}}]),n}(I["PureComponent"]),We=Qe))||We)||We);t["default"]=ct}}]);