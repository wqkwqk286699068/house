(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[74],{H5US:function(e,a,t){"use strict";t.r(a);t("2qtc");var n,r,i,o=t("kLXV"),l=(t("R9oj"),t("ECub")),d=(t("T2oS"),t("W9HT")),s=(t("IzEo"),t("bx4M")),c=(t("Pwec"),t("CtXQ")),m=(t("+L6B"),t("2/Rp")),u=t("2Taf"),h=t.n(u),p=t("vZ4D"),y=t.n(p),b=t("rlhR"),k=t.n(b),w=t("MhPg"),E=t.n(w),g=t("l4Ni"),v=t.n(g),f=t("ujKo"),N=t.n(f),j=t("q1tI"),M=t.n(j),R=t("LLXN"),x=t("MuoO"),C=t("vDqi"),S=t.n(C),J=t("Qyje"),L=t.n(J),F=t("xNuS"),V=t("Aeqt"),q=t("mOP9"),D=t("/uJQ"),I=t.n(D),B=t("GT59"),T=t("ZZXH"),W=t.n(T),P=t("+WyL"),X=t.n(P),z=t("PTTD"),A=t.n(z);function H(e){var a=O();return function(){var t,n=N()(e);if(a){var r=N()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return v()(this,t)}}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Q=function(e){return"\u7ea2\u706f"===e?W.a:"\u7eff\u706f"===e?A.a:"\u9ec4\u706f"===e?X.a:null},Z=(n=Object(x["connect"])(function(e){var a=e.jwleidajiankongModel,t=e.loading;return{loadingAll:t.models.jwleidajiankongModel,jwleidajiankongModel:a}}),n((i=function(e){E()(t,e);var a=H(t);function t(e){var n;return h()(this,t),n=a.call(this,e),n.handleCancel=function(){n.setState({visible2:!1})},n.state={type:"none",btNo:"",dbNo:"",mkName:"",dabiaolist:[],visible:!1,visible2:!1,data:[],corpName:""},n.download=n.download.bind(k()(n)),n}return y()(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.dispatch,t=e.location,n=t.query,r=n.radarId,i=n.name,o=n.radarNo,l=n.version,d=n.iflag,s=n.type,c=n.insertDate,m=n.dataNum,u={examineName:i,radarId:r,iflag:d,radarNo:o,version:l,type:s,insertDate:c,dataNum:m};a({type:"jwleidajiankongModel/leidabianjishengcheng",payload:u}).then(function(e){a({type:"jwleidajiankongModel/searchmt",payload:u})})}},{key:"dabiao",value:function(e,a,t,n){this.setState({dbNo:a,mkName:t,dabiaolist:[],radarVersion:n});var r=this.props.location,i=r.query,o=i.radarId,l=i.name,d=i.radarNo,s=this.state.visible,c={mkName:t,btNo:e,radarId:o,dbNo:a,examineName:l,radarNo:d,radarVersion:n},m=this;s||S.a.post("".concat(V["a"],"/radar/JwRadar/searchxinhao"),L.a.stringify(c)).then(function(e){m.setState({dabiaolist:e.data,type:"block",visible:!0})})}},{key:"ok",value:function(){this.setState({visible:!1}),this.shuaxin()}},{key:"clone",value:function(){this.setState({type:"none",visible:!1})}},{key:"shuaxin",value:function(){var e=this,a=this.props,t=a.dispatch,n=a.location,r=n.query,i=r.radarId,o=r.name,l=r.radarNo,d=r.version,s=r.iflag,c=r.type,m=r.insertDate,u=r.dataNum,h={examineName:o,radarId:i,iflag:s,radarNo:l,version:d,type:c,insertDate:m,dataNum:u};t({type:"jwleidajiankongModel/searchmt",payload:h}).then(function(){var a=e.props.jwleidajiankongModel.searchmtList;e.setState({searchmtList:a})})}},{key:"showModal",value:function(e,a,t,n){var r=this.props.dispatch;this.setState({visible2:!0,date:t,title:n,radarVersion:a,dbNo:e},function(){r({type:"jwleidajiankongModel/getXwXqBody",payload:{dbNo:e,radarVersion:a}})})}},{key:"download",value:function(){var e=this,a=this.state,t=a.date,n=a.radarVersion,r=a.dbNo,i=this.props,o=i.sysCode,l=i.name,d=i.dispatch;d({type:"jwleidajiankongModel/isLogin",payload:this.state}).then(function(){var a=e.props.jwleidajiankongModel.loginstate;void 0!==a&&window.open("".concat(V["a"],"/radar/JwRadar/downloadxw?sysCode=").concat(o,"&corpName=").concat(l,"&radarVersion=").concat(n,"&dbNo=").concat(r,"&date=").concat(t))})}},{key:"render",value:function(){var e=this.props,a=e.jwleidajiankongModel,t=a.searchmtList,n=a.xwbody,r=e.loadingAll,i=e.location,u=i.query,h=u.name,p=u.version,y=u.radarId,b=u.sysCode,k=u.radarNo,w=u.current,E=u.size,g=u.examineName,v=u.effective,f=u.total,N=this.state,j=N.type,x=N.btNo,C=N.dbNo,S=N.mkName,J=N.dabiaolist,L=N.visible,V=N.corpName,D=N.riskLevel,T=N.radarVersion,W=N.visible2,P=N.title,X=N.date,z={btNo:x,mkName:S,dbNo:C,name:h,sysCode:b,dabiaolist:J,version:p,visible:L,corpName:V,radarId:y,riskLevel:D,radarVersion:T,radarNo:k},A=[];if(void 0!==t&&t.length>0)for(var H=0;H<t.length;H+=1)this.radarVersion1=t[0].radarVersion,1,A.push(M.a.createElement("table",null,M.a.createElement("thead",null,M.a.createElement("tr",null,M.a.createElement("th",{colSpan:"2"},M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.xinxi"})),M.a.createElement("th",{style:{width:"12%"}},M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.fengxian"})),M.a.createElement("th",{style:{width:"12%"}},M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.caozuo"}))),M.a.createElement("tr",null,M.a.createElement("td",{style:{wordBreak:"break-all",wordWrap:"break-word",width:150}},M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.xinxigaishu"})),M.a.createElement("td",null,t[H].title),M.a.createElement("td",{rowSpan:"4"},M.a.createElement("img",{alt:t[H].deng,src:Q(t[H].deng)})),M.a.createElement("td",{rowSpan:4,style:{Width:"12%"}},M.a.createElement(m["a"],{disabled:"1"!==t[H].iflag,onClick:this.dabiao.bind(this,t[H].btNo,t[H].dbNo,"mtfmscglgs",t[H].radarVersion),type:"primary",style:{marginBottom:10,backgroundColor:"#3D73FE"}},"\u6253\u6807"))),M.a.createElement("tr",null,M.a.createElement("td",{style:{wordBreak:"break-all",wordWrap:"break-word"}},M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.gongbushijian"})),M.a.createElement("td",null,t[H].publishTime)),M.a.createElement("tr",null,M.a.createElement("td",{style:{wordBreak:"break-all",wordWrap:"break-word"}},M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.lianjie"})),M.a.createElement("td",null,null!=t[H].xqBody?M.a.createElement("a",{type:"primary",onClick:this.showModal.bind(this,t[H].dbNo,t[H].radarVersion,t[H].publishTime,t[H].title)},"\u67e5\u770b\u8be6\u60c5"):null)),M.a.createElement("tr",null,M.a.createElement("td",{style:{wordBreak:"break-all",wordWrap:"break-word"}},M.a.createElement(R["FormattedMessage"],{id:"business.rules.beizhu"})),M.a.createElement("td",{style:{wordBreak:"break-all",wordWrap:"break-word"}},void 0!==t[H].remark?t[H].remark:null)))));else A.push(M.a.createElement("div",{className:I.a.tableList},M.a.createElement("table",null,M.a.createElement("tr",null,M.a.createElement("th",{width:"5%"},M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.xuhao"})),M.a.createElement("th",{style:{width:"5%"}},M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.xinxi"})),M.a.createElement("th",{style:{width:"12%"}},M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.fengxian"}))),M.a.createElement("tr",null,M.a.createElement("td",{colSpan:3},"\u672a\u67e5\u8be2\u5230\u5176\u5a92\u4f53\u8d1f\u9762\u4fe1\u606f")))));return M.a.createElement("div",null,M.a.createElement(d["a"],{spinning:r},M.a.createElement(s["a"],{extra:M.a.createElement("div",{style:{float:"right"}},M.a.createElement(q["a"],{to:{pathname:"/marking/jiankong",query:{current:w,size:E,examineName:g,effective:v,total:f}}},M.a.createElement(m["a"],null,M.a.createElement(c["a"],{type:"left"}),"\u8fd4\u56de"," "))),bordered:!1,title:"\u65b0\u95fb\u8206\u60c5\u65b0\u589e"},"\u68c0\u7d22\u5bf9\u8c61\uff1a".concat(h),M.a.createElement("div",{style:{height:"10px"}}),M.a.createElement(R["FormattedMessage"],{id:"jindiao.JwRiskReport.shujulaiyuan"}),M.a.createElement(R["FormattedMessage"],{id:"common.datasources5"}),M.a.createElement("div",{style:{height:"18px"}}),M.a.createElement("div",{className:I.a.tableList}," ",A)),L?M.a.createElement(B["a"],{ok:this.ok.bind(this),clone:this.clone.bind(this),iflag:"M",canshu:"1",type:j,values:z}):null),M.a.createElement(o["a"],{title:M.a.createElement("h3",{style:{textAlign:"center"}},M.a.createElement(F["a"],{maxline:15,tooltip:!0,lines:1},P)),width:"60%",visible:W,onCancel:this.handleCancel,footer:[M.a.createElement(m["a"],{key:"back",onClick:this.handleCancel},"\u5173\u95ed"),M.a.createElement(m["a"],{style:{float:"right"},type:"primary",icon:"download",onClick:this.download},"\u4e0b\u8f7d")]},M.a.createElement(d["a"],{spinning:r},M.a.createElement(s["a"],{bordered:!1},M.a.createElement("div",{id:"main",style:{overflow:"scroll",width:"100%",height:"400px"}},M.a.createElement("h4",{id:"h2"},"\u53d1\u5e03\u65e5\u671f\uff1a",null!=X?X:""),n?M.a.createElement("p",{dangerouslySetInnerHTML:{__html:n[0]}}):M.a.createElement(l["a"],{description:!1}))))))}}]),t}(j["PureComponent"]),r=i))||r);a["default"]=Z}}]);