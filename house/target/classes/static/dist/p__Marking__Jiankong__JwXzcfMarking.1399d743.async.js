(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[79],{fuCi:function(e,a,t){"use strict";t.r(a);t("T2oS");var n,r,i=t("W9HT"),o=(t("IzEo"),t("bx4M")),l=(t("Pwec"),t("CtXQ")),s=(t("+L6B"),t("2/Rp")),d=(t("2qtc"),t("kLXV")),c=t("2Taf"),u=t.n(c),m=t("vZ4D"),h=t.n(m),p=t("MhPg"),g=t.n(p),f=t("l4Ni"),y=t.n(f),N=t("ujKo"),b=t.n(N),k=(t("B9cy"),t("Ol7k")),v=t("q1tI"),E=t.n(v),j=t("MuoO"),w=t("LLXN"),x=t("vDqi"),R=t.n(x),M=t("Qyje"),F=t.n(M),D=t("Aeqt"),I=t("mOP9"),J=t("tk3n"),L=t("/uJQ"),S=t.n(L),V=t("ZZXH"),z=t.n(V),q=t("+WyL"),C=t.n(q),A=t("PTTD"),B=t.n(A);function O(e){var a=P();return function(){var t,n=b()(e);if(a){var r=b()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return y()(this,t)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}k["a"].Footer;var T=function(e){return"\u7ea2\u706f"===e?z.a:"\u7eff\u706f"===e?B.a:"\u9ec4\u706f"===e?C.a:null},X=(n=Object(j["connect"])(function(e){var a=e.jwleidajiankongModel,t=e.loading;return{loadingAll:t.models.jwleidajiankongModel,jwleidajiankongModel:a}}),n(r=function(e){g()(t,e);var a=O(t);function t(e){var n;return u()(this,t),n=a.call(this,e),n.state={type:"none",btNo:"",dbNo:"",mkName:"",dabiaolist:[],visible:!1,data:[],corpName:""},n}return h()(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.dispatch,t=e.location,n=t.query,r=n.radarId,i=n.name,o=n.radarNo,l=n.version,s=n.iflag,d=n.type,c=n.insertDate,u=n.dataNum,m={examineName:i,radarId:r,iflag:s,radarNo:o,version:l,type:d,insertDate:c,dataNum:u};a({type:"jwleidajiankongModel/leidabianjishengcheng",payload:m}).then(function(e){a({type:"jwleidajiankongModel/searchxz",payload:m})})}},{key:"dabiao",value:function(e,a,t,n){this.setState({dbNo:a,mkName:t,dabiaolist:[],radarVersion:n});var r=this.props.location,i=r.query,o=i.radarId,l=i.name,s=i.radarNo,d=this.state.visible,c={mkName:t,btNo:e,radarId:o,dbNo:a,examineName:l,radarNo:s,radarVersion:n},u=this;d||R.a.post("".concat(D["a"],"/radar/JwRadar/searchxinhao"),F.a.stringify(c)).then(function(e){u.setState({dabiaolist:e.data,type:"block",visible:!0})})}},{key:"delete",value:function(e,a,t,n,r){var i=this,o=this.props.location,l=o.query,s=l.radarId,c=l.name,u=l.radarNo,m={iflag:r,mkName:e,examineName:c,dbNo:t,radarId:s,radarVersion:n,radarNo:u},h=this;R.a.post("".concat(D["a"],"/radar/JwRadar/deleteDbFx"),F.a.stringify(m)).then(function(e){e.data.s?("0"==r?d["a"].success({title:"\u5220\u9664\u6210\u529f!"}):d["a"].success({title:"\u64a4\u9500\u5220\u9664\u6210\u529f!"}),h.setState({spinning:!1}),i.shuaxin()):(d["a"].error({title:"\u5f53\u524d\u96f7\u8fbe\u5df2\u6709\u5176\u4ed6\u4eba\u5458\u8fdb\u884c\u64cd\u4f5c!"}),h.setState({spinning:!1}))})}},{key:"ok",value:function(){this.setState({visible:!1}),this.shuaxin()}},{key:"clone",value:function(){this.setState({type:"none",visible:!1})}},{key:"shengchengBG",value:function(){for(var e=this,a=this.props,t=a.dispatch,n=a.jwleidajiankongModel.searchxzList,r=[],i=0,o=0;o<n.length;o+=1)i=o+1,r.push({btNo:"5.1.".concat(i),dbNo:n[o].dbNo});var l=this.props.location,s=l.query,c=s.radarId,u=s.name,m=s.radarNo,h=s.version,p=s.iflag,g=s.type,f=s.insertDate,y=s.dataNum,N={btList:JSON.stringify(r),radarVersion:this.radarVersion1,examineName:u,radarId:c,iflag:p,radarNo:m,version:h,type:g,insertDate:f,dataNum:y};t({type:"jwleidajiankongModel/shengchengBG",payload:N}).then(function(a){a&&(0===a.code?(d["a"].success({title:a.msg}),e.shuaxin()):d["a"].error({title:a.msg}))})}},{key:"shuaxin",value:function(){var e=this.props,a=e.dispatch,t=e.location,n=t.query,r=n.radarId,i=n.name,o=n.radarNo,l=n.version,s=n.iflag,d=n.type,c=n.insertDate,u=n.dataNum,m={examineName:i,radarId:r,iflag:s,radarNo:o,version:l,type:d,insertDate:c,dataNum:u};a({type:"jwleidajiankongModel/searchxz",payload:m})}},{key:"render",value:function(){var e=this.props,a=e.jwleidajiankongModel.searchxzList,t=e.loadingAll,n=e.location,r=n.query,d=r.name,c=r.version,u=r.radarId,m=r.sysCode,h=r.radarNo,p=r.current,g=r.size,f=r.examineName,y=r.effective,N=r.total,b=r.dbState,k=this.state,v=k.type,j=k.btNo,x=k.dbNo,R=k.mkName,M=k.dabiaolist,F=k.visible,D=k.corpName,L=k.riskLevel,V=k.radarVersion,z={btNo:j,mkName:R,dbNo:x,name:d,sysCode:m,dabiaolist:M,version:c,visible:F,corpName:D,radarId:u,riskLevel:L,radarVersion:V,radarNo:h},q=[];if(void 0!==a&&a.length>0)for(var C=0;C<a.length;C+=1)this.radarVersion1=a[0].radarVersion,q.push(E.a.createElement("table",null,E.a.createElement("tr",null,E.a.createElement("th",{colSpan:"2",width:"80%"},E.a.createElement(w["FormattedMessage"],{id:"jindiao.JwRiskReport.xinxi"})),E.a.createElement("th",{style:{width:"10%"}},E.a.createElement(w["FormattedMessage"],{id:"jindiao.JwRiskReport.fengxian"})),E.a.createElement("th",{style:{width:"10%"}},E.a.createElement(w["FormattedMessage"],{id:"jindiao.JwRiskReport.caozuo"}))),E.a.createElement("tr",null,E.a.createElement("td",{style:{width:"15%"}},E.a.createElement(w["FormattedMessage"],{id:"jindiao.JwRiskReport.chufagaishu"}),":"),E.a.createElement("td",null,a[C].punish),E.a.createElement("td",{rowSpan:"7"},E.a.createElement("img",{alt:a[C].deng,src:T(a[C].deng)})),E.a.createElement("td",{rowSpan:7},E.a.createElement(s["a"],{onClick:this.dabiao.bind(this,a[C].btNo,a[C].dbNo,"xzcfhmd",a[C].radarVersion,a[C].riskLevel),type:"primary",style:{marginBottom:10,backgroundColor:"#3D73FE"}},"\u6253\u6807"),E.a.createElement("br",null),"0"===a[C].iflag?null:E.a.createElement(s["a"],{onClick:this.delete.bind(this,"xzcfhmd",a[C].btNo,a[C].dbNo,a[C].radarVersion,"0")},"\u5220\u9664"),"0"===a[C].iflag?E.a.createElement(s["a"],{onClick:this.delete.bind(this,"xzcfhmd",a[C].btNo,a[C].dbNo,a[C].radarVersion,"1")},"\u64a4\u9500\u5220\u9664"):null)),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement(w["FormattedMessage"],{id:"jindiao.JwRiskReport.chufajuedingshuwenhao"}),":"),E.a.createElement("td",null,a[C].caseNo)),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement(w["FormattedMessage"],{id:"jindiao.JwRiskReport.chufashijian"}),":"),E.a.createElement("td",null,a[C].liandate)),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement(w["FormattedMessage"],{id:"jindiao.JwRiskReport.chufajiguan"}),":"),E.a.createElement("td",null,a[C].punishmentOrgan)),E.a.createElement("tr",null,E.a.createElement("td",null,E.a.createElement(w["FormattedMessage"],{id:"business.rules.beizhu"})),E.a.createElement("td",null,void 0!==a[C].remark&&null!==a[C].remark?a[C].remark:null))));return E.a.createElement("div",null,E.a.createElement(i["a"],{spinning:t},E.a.createElement(o["a"],{extra:E.a.createElement("div",{style:{float:"right"}},E.a.createElement(I["a"],{to:{pathname:"/marking/jiankong",query:{current:p,size:g,examineName:f,effective:y,total:N}}},E.a.createElement(s["a"],null,E.a.createElement(l["a"],{type:"left"}),"\u8fd4\u56de")),E.a.createElement(s["a"],{onClick:this.shengchengBG.bind(this),loading:t,type:"primary",disabled:"0"!=b,style:{backgroundColor:"0"==b?"#3D73FE":"#A7A7A7",color:"0"==b?"white":"#FFFFFF",marginLeft:"20px"}},"\u63d0\u4ea4")),bordered:!1,title:"\u884c\u653f\u5904\u7f5a\u65b0\u589e"},"\u68c0\u7d22\u5bf9\u8c61\uff1a".concat(d),E.a.createElement("div",{style:{height:"10px"}}),E.a.createElement(w["FormattedMessage"],{id:"jindiao.JwRiskReport.shujulaiyuan"}),E.a.createElement(w["FormattedMessage"],{id:"common.datasources4"}),E.a.createElement("div",{style:{height:"18px"}}),E.a.createElement("div",{className:S.a.tableList}," ",q)),F?E.a.createElement(J["a"],{ok:this.ok.bind(this),clone:this.clone.bind(this),iflag:"X",canshu:"1",type:v,values:z}):null))}}]),t}(v["PureComponent"]))||r);a["default"]=X}}]);