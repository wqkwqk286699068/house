(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[63],{"3mu9":function(e,a,t){"use strict";t.r(a);t("T2oS");var n,i,r=t("W9HT"),o=(t("IzEo"),t("bx4M")),l=(t("+L6B"),t("2/Rp")),s=(t("Pwec"),t("CtXQ")),d=(t("2qtc"),t("kLXV")),c=t("2Taf"),m=t.n(c),u=t("vZ4D"),h=t.n(u),g=t("rlhR"),p=t.n(g),y=t("MhPg"),f=t.n(y),b=t("l4Ni"),v=t.n(b),N=t("ujKo"),k=t.n(N),E=t("q1tI"),j=t.n(E),w=t("MuoO"),x=t("LLXN"),M=t("vDqi"),R=t.n(M),L=t("Qyje"),F=t.n(L),D=t("Aeqt"),J=t("mOP9"),V=t("tk3n"),z=(t("ZZXH"),t("+WyL"),t("PTTD"),t("/uJQ")),q=t.n(z),I=t("VyZj");function S(e){var a=T();return function(){var t,n=k()(e);if(a){var i=k()(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return v()(this,t)}}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var C=(n=Object(w["connect"])(function(e){var a=e.jwleidajiankongModel,t=e.loading;return{loadingAll:t.models.jwleidajiankongModel,jwleidajiankongModel:a}}),n(i=function(e){f()(t,e);var a=S(t);function t(e){var n;return m()(this,t),n=a.call(this,e),n.state={type:"block",btNo:"",dbNo:"",mkName:"",dabiaolist:[],visible:!1,corpName:"",radarVersion:""},n.clone=n.clone.bind(p()(n)),n.ok=n.ok.bind(p()(n)),n.shengchengBG=n.shengchengBG.bind(p()(n)),n}return h()(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.dispatch,t=e.location,n=t.query,i=n.radarId,r=n.name,o=n.radarNo,l=n.version,s=n.iflag,d=n.type,c=n.insertDate,m=n.dataNum,u={examineName:r,radarId:i,iflag:s,radarNo:o,version:l,type:d,insertDate:c,dataNum:m};a({type:"jwleidajiankongModel/leidabianjishengcheng",payload:u}).then(function(e){a({type:"jwleidajiankongModel/searchfxxhzcbgxx",payload:u}),a({type:"jwleidajiankongModel/searchgd",payload:u}),a({type:"jwleidajiankongModel/searchdwtz",payload:u})})}},{key:"dabiao",value:function(e,a,t,n){this.setState({dbNo:a,mkName:t,dabiaolist:[],radarVersion:n});var i=this.props.location,r=i.query,o=r.radarId,l=r.name,s=r.radarNo,d=this.state.visible,c={mkName:t,btNo:e,radarId:o,dbNo:a,examineName:l,radarNo:s,radarVersion:n},m=this;d||R.a.post("".concat(D["a"],"/radar/JwRadar/searchxinhao"),F.a.stringify(c)).then(function(e){m.setState({dabiaolist:e.data,type:"block",visible:!0})})}},{key:"clone",value:function(){this.setState({type:"none",visible:!1})}},{key:"ok",value:function(){this.setState({visible:!1}),this.shuaxin()}},{key:"shengchengBG",value:function(){for(var e=this,a=this.props,t=a.dispatch,n=a.jwleidajiankongModel,i=n.searchgdList,r=n.searchdwtzList,o=a.location,l=[],s=0,c=0;c<i.length;c+=1)s=c+1,l.push({btNo:"3.1.".concat(s),dbNo:i[c].dbNo});for(var m=0;m<r.length;m+=1)s=m+1,l.push({btNo:"3.2.".concat(s),dbNo:r[m].dbNo});var u=o.query,h=u.radarId,g=u.name,p=u.radarNo,y=u.version,f=u.iflag,b=u.type,v=u.insertDate,N=u.dataNum,k={btList:JSON.stringify(l),radarVersion:this.radarVersion1,examineName:g,radarId:h,iflag:f,radarNo:p,version:y,type:b,insertDate:v,dataNum:N};t({type:"jwleidajiankongModel/shengchengBG",payload:k}).then(function(a){a&&(0===a.code?(d["a"].success({title:a.msg}),e.setState({dbState:!0}),e.shuaxin()):d["a"].error({title:a.msg}))})}},{key:"shuaxin",value:function(){var e=this.props,a=e.dispatch,t=e.location,n=t.query,i=n.radarId,r=n.name,o=n.radarNo,l=n.version,s=n.iflag,d=n.type,c=n.insertDate,m=n.dataNum,u={examineName:r,radarId:i,iflag:s,radarNo:o,version:l,type:d,insertDate:c,dataNum:m};a({type:"jwleidajiankongModel/searchfxxhzcbgxx",payload:u}),a({type:"jwleidajiankongModel/searchgd",payload:u}),a({type:"jwleidajiankongModel/searchdwtz",payload:u})}},{key:"render",value:function(){var e=this,a=this.props,t=a.jwleidajiankongModel,n=t.searchfxxhzcbgxxList,i=t.searchgdList,d=t.searchdwtzList,c=a.loadingAll,m=a.location,u=m.query,h=u.name,g=u.version,p=u.radarId,y=u.sysCode,f=u.radarNo,b=u.changeWay,v=u.current,N=u.size,k=u.examineName,E=u.effective,w=u.total,M=u.dbState,R=[],L=0,F=this.state,D=F.type,z=F.btNo,S=F.dbNo,T=F.mkName,C=F.dabiaolist,A=F.visible,B=F.corpName,O=F.riskLevel,P=F.radarVersion,G={btNo:z,mkName:T,dbNo:S,name:h,sysCode:y,dabiaolist:C,version:g,visible:A,corpName:B,radarId:p,riskLevel:O,radarVersion:P,radarNo:f},X=[],Z=[],Q="";if(void 0!==n&&n.length>0?n.forEach(function(e){R.push(j.a.createElement("tr",null,j.a.createElement("td",null," ",e.projectName," "),j.a.createElement("td",null," ",e.changeDate),j.a.createElement("td",null,e.beforeContent),j.a.createElement("td",null,e.afterContent)))}):R.push(j.a.createElement("tr",null,j.a.createElement("td",{colSpan:4},j.a.createElement(x["FormattedMessage"],{id:"jindiao.JwRiskReport.notselectxinxi"})))),void 0!==i&&i.length>0&&i.forEach(function(a,t){L=t+1,e.radarVersion1=void 0===a.radarVersion?"":a.radarVersion,X.push(j.a.createElement("div",null,"3.1.".concat(L),"\xa0\xa0","\u68c0\u7d22\u5bf9\u8c61\uff1a".concat(a.corpName),j.a.createElement("div",{style:{height:"10px"}}),j.a.createElement("span",{style:{marginLeft:38}},j.a.createElement(x["FormattedMessage"],{id:"jindiao.JwRiskReport.shujulaiyuan"}),j.a.createElement(x["FormattedMessage"],{id:"common.datasources1"})),j.a.createElement("div",{style:{height:"18px"}}),j.a.createElement(I["a"],{dataList:i[t],dabiao:function(a,t,n,i){e.dabiao(a,t,n,i)},index:L,pageType:"dwtz",num:"3.1"})))}),void 0!==d&&d.length>0){Q=d[0].radarState;for(var W=0;W<d.length;W+=1)L=W+1,this.radarVersion1=d[0].radarVersion,Z.push(j.a.createElement("div",null,"3.2.".concat(L),"\xa0\xa0","\u68c0\u7d22\u5bf9\u8c61\uff1a".concat(d[W].corpName),j.a.createElement("div",{style:{height:"10px"}}),j.a.createElement("span",{style:{marginLeft:38}},j.a.createElement(x["FormattedMessage"],{id:"jindiao.JwRiskReport.shujulaiyuan"}),j.a.createElement(x["FormattedMessage"],{id:"common.datasources1"})),j.a.createElement("div",{style:{height:"18px"}}),j.a.createElement(I["a"],{dataList:d[W],dabiao:function(a,t,n,i){e.dabiao(a,t,n,i)},index:L,pageType:"dwtz",num:"3.2"})))}return j.a.createElement("div",null,j.a.createElement(r["a"],{spinning:c},j.a.createElement(o["a"],{title:1==b?"\u5bf9\u5916\u6295\u8d44\u65b0\u589e":2==b?"\u5bf9\u5916\u6295\u8d44\u5220\u9664":"\u5bf9\u5916\u6295\u8d44\u53d8\u66f4",extra:j.a.createElement("div",{style:{float:"right"}},j.a.createElement(J["a"],{to:{pathname:"/marking/jiankong",query:{current:v,size:N,examineName:k,effective:E,total:w}}},j.a.createElement(l["a"],null,j.a.createElement(s["a"],{type:"left"}),"\u8fd4\u56de")),j.a.createElement(l["a"],{onClick:this.shengchengBG,type:"primary",loading:c,disabled:"0"!=M,style:{backgroundColor:"0"==M?"#3D73FE":"#A7A7A7",color:"0"==M?"white":"#FFFFFF",marginLeft:"20px"}},"\u63d0\u4ea4")),className:q.a.cardList,bordered:!0},j.a.createElement("div",{className:q.a.tableList},j.a.createElement("table",null,j.a.createElement("tr",null,j.a.createElement("th",{style:{width:"12.5%"}},j.a.createElement(x["FormattedMessage"],{id:"jindiao.JwRiskReport.shenchaxiangmu"})),j.a.createElement("th",{style:{width:"12.5%"}},j.a.createElement(x["FormattedMessage"],{id:"jindiao.JwRiskReport.biangengriqi"})),j.a.createElement("th",{style:{width:"40%"}},j.a.createElement(x["FormattedMessage"],{id:"jindiao.JwRiskReport.biangengqian"})),j.a.createElement("th",{style:{width:"35%"}},j.a.createElement(x["FormattedMessage"],{id:"jindiao.JwRiskReport.biangenghou"}))),R))),i.length>0?j.a.createElement(o["a"],{title:Object(x["formatMessage"])({id:"jindiao.JwRiskReport.gudonglian"}),className:q.a.cardList,style:{marginTop:"2%"},bordered:!0},X):2!=b?j.a.createElement(o["a"],{title:" 3.1\uff08\u6682\u65e0\u6570\u636e\uff09",className:q.a.cardList,style:{marginTop:"2%"},bordered:!0}):null,d.length>0?j.a.createElement(o["a"],{title:Object(x["formatMessage"])({id:"jindiao.JwRiskReport.zigongsi"})+(null===Q?"":"1"===Q?"\uff08\u65b0\u589e\uff09":"\uff08\u53d8\u66f4\uff09"),className:q.a.cardList,style:{marginTop:"2%"},bordered:!0},Z):null,A?j.a.createElement(V["a"],{ok:this.ok,clone:this.clone,iflag:"D",canshu:"1",type:D,values:G}):null))}}]),t}(E["PureComponent"]))||i);a["default"]=C}}]);