(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[65],{P33V:function(e,a,t){"use strict";t.r(a);t("T2oS");var n,i,r=t("W9HT"),o=(t("+L6B"),t("2/Rp")),s=(t("Pwec"),t("CtXQ")),l=(t("IzEo"),t("bx4M")),d=(t("2qtc"),t("kLXV")),c=t("2Taf"),h=t.n(c),m=t("vZ4D"),u=t.n(m),g=t("MhPg"),p=t.n(g),f=t("l4Ni"),y=t.n(f),x=t("ujKo"),b=t.n(x),v=t("q1tI"),j=t.n(v),N=t("LLXN"),k=t("MuoO"),E=t("vDqi"),w=t.n(E),L=t("Qyje"),M=t.n(L),R=t("Aeqt"),z=t("mOP9"),F=t("tk3n"),D=(t("ZZXH"),t("+WyL"),t("PTTD"),t("/uJQ")),J=t.n(D),V=t("VyZj");function q(e){var a=I();return function(){var t,n=b()(e);if(a){var i=b()(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return y()(this,t)}}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var S=(n=Object(k["connect"])(function(e){var a=e.jwleidajiankongModel,t=e.loading;return{loadingAll:t.models.jwleidajiankongModel,jwleidajiankongModel:a}}),n(i=function(e){p()(t,e);var a=q(t);function t(e){var n;return h()(this,t),n=a.call(this,e),n.state={type:"block",btNo:"",dbNo:"",mkName:"",dabiaolist:[],visible:!1,zcxx:[],corpName:"",riskLevel:"",radarVersion:"",spinning:!1},n}return u()(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.dispatch,t=e.location,n=t.query,i=n.radarId,r=n.name,o=n.radarNo,s=n.version,l=n.iflag,d=n.type,c=n.insertDate,h=n.dataNum,m={examineName:r,radarId:i,iflag:l,radarNo:o,version:s,type:d,insertDate:c,dataNum:h};a({type:"jwleidajiankongModel/leidabianjishengcheng",payload:m}).then(function(e){a({type:"jwleidajiankongModel/searchfxxhzcbgxx",payload:m}),a({type:"jwleidajiankongModel/searchfxxhzcxx",payload:m}),a({type:"jwleidajiankongModel/searchdjg",payload:m})})}},{key:"dabiao",value:function(e,a,t,n){this.setState({dbNo:a,mkName:t,dabiaolist:[],radarVersion:n});var i=this.props.location,r=i.query,o=r.radarId,s=r.name,l=r.radarNo,d=this.state.visible,c={mkName:t,btNo:e,radarId:o,dbNo:a,examineName:s,radarNo:l,radarVersion:n},h=this;d||w.a.post("".concat(R["a"],"/radar/JwRadar/searchxinhao"),M.a.stringify(c)).then(function(e){h.setState({dabiaolist:e.data,type:"block",visible:!0})})}},{key:"clone",value:function(){this.setState({type:"none",visible:!1})}},{key:"ok",value:function(){this.setState({visible:!1}),this.shuaxin()}},{key:"shengchengBG",value:function(){var e=this,a=this.props,t=a.dispatch,n=a.jwleidajiankongModel.searchdjgList,i=[],r=0;n.forEach(function(e,a){r=a+1,i.push({btNo:"3.3.".concat(r),dbNo:n[a].dbNo})});var o=this.props.location,s=o.query,l=s.radarId,c=s.name,h=s.radarNo,m=s.version,u=s.iflag,g=s.type,p=s.insertDate,f=s.dataNum,y={btList:JSON.stringify(i),radarVersion:this.radarVersion1,examineName:c,radarId:l,iflag:u,radarNo:h,version:m,type:g,insertDate:p,dataNum:f};t({type:"jwleidajiankongModel/shengchengBG",payload:y}).then(function(a){a&&(0===a.code?(d["a"].success({title:a.msg}),e.shuaxin()):d["a"].error({title:a.msg}))})}},{key:"shuaxin",value:function(){var e=this,a=this.props,t=a.dispatch,n=a.location,i=n.query,r=i.radarId,o=i.name,s=i.radarNo,l=i.version,d=i.iflag,c=i.type,h=i.insertDate,m=i.dataNum,u={examineName:o,radarId:r,iflag:d,radarNo:s,version:l,type:c,insertDate:h,dataNum:m};t({type:"jwleidajiankongModel/searchfxxhzcbgxx",payload:u}),t({type:"jwleidajiankongModel/searchfxxhzcxx",payload:u}),t({type:"jwleidajiankongModel/searchdjg",payload:u}).then(function(){var a=e.props.jwleidajiankongModel,t=a.searchdjgList,n=a.searchfxxhzcbgxxList,i=a.searchfxxhzcxxList;e.setState({searchdjgList:t,searchfxxhzcbgxxList:n,searchfxxhzcxxList:i})})}},{key:"render",value:function(){var e=this,a=this.props,t=a.jwleidajiankongModel,n=t.searchfxxhzcbgxxList,i=t.searchfxxhzcxxList,d=t.searchdjgList,c=a.loadingAll,h=a.location,m=h.query,u=m.name,g=m.version,p=m.radarId,f=m.sysCode,y=m.radarNo,x=m.changeWay,b=m.current,v=m.size,k=m.examineName,E=m.effective,w=m.total,L=m.dbState,M=[],R=0,D=this.state,q=D.type,I=D.btNo,S=D.dbNo,T=D.mkName,C=D.dabiaolist,P=D.visible,A=D.corpName,O=D.radarVersion,B=D.riskLevel,X={btNo:I,mkName:T,dbNo:S,name:u,sysCode:f,dabiaolist:C,version:g,visible:P,corpName:A,radarId:p,riskLevel:B,radarVersion:O,radarNo:y},Z=[];void 0!==d&&this.setState({searchdjgList:d,searchfxxhzcbgxxList:n,searchfxxhzcxxList:i});var G=[];if(void 0!==i&&null!==i&&i.length>0&&(this.radarVersion1=i[0].radarVersion,G.push(j.a.createElement(l["a"],{title:Object(N["formatMessage"])({id:"jindiao.JwRiskReport.zhucexinxibt"}),style:{minHeight:200,width:"100%",float:"right",marginTop:"2%"},bordered:!0},"2.1 \u68c0\u7d22\u5bf9\u8c61\uff1a".concat(i[0].corpName),j.a.createElement("div",{style:{height:"10px"}}),j.a.createElement("span",{style:{marginLeft:25}}),j.a.createElement(N["FormattedMessage"],{id:"jindiao.JwRiskReport.shujulaiyuan"}),j.a.createElement(N["FormattedMessage"],{id:"common.datasources1"}),j.a.createElement("div",{style:{height:"18px"}}),j.a.createElement(V["a"],{dataList:i[0],index:2.1,pageType:"jyfw",num:"2.1"})))),void 0!==n&&n.length>0?n.forEach(function(e){M.push(j.a.createElement("tr",null,j.a.createElement("td",null," ",e.projectName," "),j.a.createElement("td",null," ",e.changeDate),j.a.createElement("td",null,e.beforeContent),j.a.createElement("td",null,e.afterContent)))}):M.push(j.a.createElement("tr",null,j.a.createElement("td",{colSpan:4},j.a.createElement(N["FormattedMessage"],{id:"jindiao.JwRiskReport.notselectxinxi"})))),void 0!==d&&d.length>0&&d.length>0){d[0].radarState;for(var H=0;H<d.length;H+=1)this.radarVersion1=d[0].radarVersion,R=H+1,Z.push(j.a.createElement("div",null,"3.3.".concat(R),"\xa0\xa0","\u68c0\u7d22\u5bf9\u8c61\uff1a".concat(d[H].corpName),j.a.createElement("div",{style:{height:"10px"}}),j.a.createElement("span",{style:{marginLeft:38}},j.a.createElement(N["FormattedMessage"],{id:"jindiao.JwRiskReport.shujulaiyuan"}),j.a.createElement(N["FormattedMessage"],{id:"common.datasources1"})),j.a.createElement("div",{style:{height:"18px"}}),j.a.createElement(V["a"],{dataList:d[H],dabiao:function(a,t,n,i){e.dabiao(a,t,n,i)},index:R,pageType:"fddbr",num:"3.3"})))}return j.a.createElement("div",null,j.a.createElement(r["a"],{spinning:c},j.a.createElement(l["a"],{title:Object(N["formatMessage"])({id:"jindiao.JwRiskReport.fddbrbg"}),extra:j.a.createElement("div",{style:{float:"right"}},j.a.createElement(z["a"],{to:{pathname:"/marking/jiankong",query:{current:b,size:v,examineName:k,effective:E,total:w}}},j.a.createElement(o["a"],null,j.a.createElement(s["a"],{type:"left"}),"\u8fd4\u56de")),j.a.createElement(o["a"],{onClick:this.shengchengBG.bind(this),loading:c,type:"primary",disabled:"0"!=L,style:{backgroundColor:"0"==L?"#3D73FE":"#A7A7A7",color:"0"==L?"white":"#FFFFFF",marginLeft:"20px"}},"\u63d0\u4ea4")),className:J.a.cardList,bordered:!0},j.a.createElement("div",{className:J.a.tableList},j.a.createElement("table",null,j.a.createElement("thead",null,j.a.createElement("tr",null,j.a.createElement("th",{style:{width:"12.5%"}},j.a.createElement(N["FormattedMessage"],{id:"jindiao.JwRiskReport.shenchaxiangmu"})),j.a.createElement("th",{style:{width:"12.5%"}},j.a.createElement(N["FormattedMessage"],{id:"jindiao.JwRiskReport.biangengriqi"})),j.a.createElement("th",{style:{width:"40%"}},j.a.createElement(N["FormattedMessage"],{id:"jindiao.JwRiskReport.biangengqian"})),j.a.createElement("th",{style:{width:"35%"}},j.a.createElement(N["FormattedMessage"],{id:"jindiao.JwRiskReport.biangenghou"}))),M)))),i.length>0?G:null,d.length>0?j.a.createElement(l["a"],{title:1==x?"3.3 \u4e2a\u4eba\u80a1\u4e1c/\u6cd5\u5b9a\u4ee3\u8868\u4eba/\u8463\u9ad8\u76d1\u5bf9\u5916\u6295\u8d44\u516c\u53f8\uff08\u65b0\u589e\uff09":"3.3 \u4e2a\u4eba\u80a1\u4e1c/\u6cd5\u5b9a\u4ee3\u8868\u4eba/\u8463\u9ad8\u76d1\u5bf9\u5916\u6295\u8d44\u516c\u53f8\uff08\u53d8\u66f4\uff09",style:{marginTop:"2%"},className:J.a.cardList,bordered:!0},j.a.createElement("div",null,Z)):j.a.createElement(l["a"],{title:"3.3\uff08\u6682\u65e0\u6570\u636e\uff09",style:{marginTop:"2%"},className:J.a.cardList,bordered:!0}),P?j.a.createElement(F["a"],{ok:this.ok.bind(this),clone:this.clone.bind(this),iflag:"F",canshu:"1",type:q,values:X}):null))}}]),t}(v["PureComponent"]))||i);a["default"]=S}}]);