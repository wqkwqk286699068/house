(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{zXKa:function(e,t,a){"use strict";a.r(t);a("T2oS");var n=a("W9HT"),l=(a("Pwec"),a("CtXQ")),r=(a("sRBo"),a("kaz8")),i=(a("iQDF"),a("+eQT")),o=a("jehZ"),s=a.n(o),c=(a("7Kak"),a("9yH6")),d=(a("g9YV"),a("wCAj")),u=(a("miYZ"),a("tsqr")),m=(a("IzEo"),a("bx4M")),h=(a("14J3"),a("BMrR")),f=(a("+L6B"),a("2/Rp")),g=(a("O3gP"),a("lrIw")),p=(a("jCWc"),a("kPKH")),y=(a("2qtc"),a("kLXV")),v=(a("/zsF"),a("PArb")),b=a("2Taf"),E=a.n(b),M=a("vZ4D"),C=a.n(M),S=a("rlhR"),k=a.n(S),j=a("MhPg"),w=a.n(j),O=a("l4Ni"),R=a.n(O),V=a("ujKo"),T=a.n(V),D=(a("y8nQ"),a("Vl3Y")),F=(a("DZo9"),a("8z0m")),N=(a("OaEy"),a("2fM7")),x=a("q1tI"),z=a.n(x),B=a("MuoO"),I=a("Aeqt"),q=a("CkN6"),A=a("xNuS"),Y=a("zHco"),L=a("LLXN"),H=a("vDqi"),P=a.n(H),J=a("Qyje"),G=a.n(J),Z=a("wd/R"),U=a.n(Z),W=(a("nRaC"),a("5RzL"));function X(e){var t=K();return function(){var a,n=T()(e);if(t){var l=T()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return R()(this,a)}}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Q=W["a"].TreeNode,$=(W["a"].SHOW_PARENT,[]),_=(x["PureComponent"],a("eHn4")),ee=a.n(_),te=a("gWZ8"),ae=a.n(te),ne=(a("P2fV"),a("NJEC")),le=(a("5NDa"),a("5rEg")),re=a("p0pE"),ie=a.n(re),oe=a("Y/ft"),se=a.n(oe),ce=(a("5Dmo"),a("3S7+"));function de(e){var t=ue();return function(){var a,n=T()(e);if(t){var l=T()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return R()(this,a)}}function ue(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function me(e){e+="";var t=e.split("."),a="-"===t[0].charAt(0)?"-":"",n=a?t[0].slice(1):t[0],l="";while(n.length>3)l=",".concat(n.slice(-3)).concat(l),n=n.slice(0,n.length-3);return n&&(l=n+l),"".concat(a).concat(l).concat(t[1]?".".concat(t[1]):"")}var he=function(e){w()(a,e);var t=de(a);function a(){var e;E()(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l)),e.onChange=function(t){var a=t.target.value,n=/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/;(!isNaN(a)&&n.test(a)||""===a||"-"===a)&&e.props.onChange(a)},e.onBlur=function(){var t=e.props,a=t.value,n=t.onBlur,l=t.onChange;a&&("."!==a.charAt(a.length-1)&&"-"!==a||l(a.slice(0,-1))),n&&n()},e}return C()(a,[{key:"render",value:function(){var e=this.props.value;e&&z.a.createElement("span",{className:"numeric-input-title"},"-"!==e?me(e):"-");return z.a.createElement(ce["a"],{trigger:["focus"],placement:"topLeft",overlayClassName:"numeric-input"},z.a.createElement(le["a"],s()({},this.props,{onChange:this.onChange,onBlur:this.onBlur,placeholder:"\u8bf7\u8f93\u5165\u91d1\u989d",maxLength:25})))}}]),a}(z.a.Component);function fe(e){var t=ge();return function(){var a,n=T()(e);if(t){var l=T()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return R()(this,a)}}function ge(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var pe,ye,ve,be=function(e){w()(a,e);var t=fe(a);function a(e){var n;return E()(this,a),n=t.call(this,e),n.onChange=function(e,t){if(e.includes("all"))if(void 0!==n.props.value&&n.props.value.length===n.props.children.length)n.props.onChange([]);else{var a=n.props.children.map(function(e){return e.key});n.props.onChange(a)}else n.props.onChange(e)},n}return C()(a,[{key:"render",value:function(){return z.a.createElement(N["a"],s()({placeholder:Object(L["formatMessage"])({id:"rule.qingshuruzhanghao"}),maxTagCount:2,mode:"multiple"},this.props,{onChange:this.onChange}),z.a.createElement(N["a"].Option,{key:"all"},"\u5168\u9009"),this.props.children)}}]),a}(z.a.Component),Ee=be;function Me(e){var t=Ce();return function(){var a,n=T()(e);if(t){var l=T()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return R()(this,a)}}function Ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Se=z.a.createContext(),ke=D["a"].Item,je=N["a"].Option;var we=function(e){var t=e.form,a=(e.index,se()(e,["form","index"]));return z.a.createElement(Se.Provider,{value:t},z.a.createElement("tr",a))},Oe=(D["a"].create()(we),z.a.Component,[]),Re=[],Ve=[];function Te(e){var t=0,a=0,n=0,l="";return t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),l+=t+"-",l+=a>=10?a+"-":"0"+a+"-",l+=n>=10?n:"0"+n,l}var De=(pe=D["a"].create(),pe((ve=function(e){w()(a,e);var t=Me(a);function a(e){var n;return E()(this,a),n=t.call(this,e),n.columns=[{title:Object(L["formatMessage"])({id:"rule.rulecode"}),dataIndex:"ruleCode",align:"center",width:"15%"},{title:Object(L["formatMessage"])({id:"rule.rulename"}),dataIndex:"ruleName",align:"center",width:"50%",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.ruletype"}),dataIndex:"ruleType",align:"center",width:"25%"},{title:Object(L["formatMessage"])({id:"rule.caozuo1"}),dataIndex:"operation",align:"center",render:function(e,t){n.state.serviceStart;return n.state.dataSource.length>=1?z.a.createElement(ne["a"],{title:Object(L["formatMessage"])({id:"rule.caozuo"}),onConfirm:function(){return n.handleDelete(t.key,t.ruleCode)}},z.a.createElement("a",{href:"javascript:;"},Object(L["formatMessage"])({id:"jindiao.JwReport.delete"}))):null}}],n.columns2=[{title:Object(L["formatMessage"])({id:"rule.rulecode"}),dataIndex:"ruleCode",align:"center",width:"15%"},{title:Object(L["formatMessage"])({id:"rule.rulename"}),dataIndex:"ruleName",align:"center",width:"50%",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.ruletype"}),dataIndex:"ruleType",align:"center",width:"25%"}],n.handleDelete=function(e,t){for(var a=ae()(n.state.dataSource),l=0;l<a.length;l++)if("1"!=a[l].flag&&t==a[l].ruleCode)Oe.push({ruleCode:a[l].ruleCode,riskType:a[l].ruleType,ruleName:a[l].ruleName,key:a[l].key,flag:"2"});else for(var r=0;r<Ve.length;r++)if(t==a[l].ruleCode&&a[l].ruleCode==Ve[r].ruleCode)return Ve.splice(r,1),void n.setState({dataSource:a.filter(function(t){return t.key!==e})});n.setState({dataSource:a.filter(function(t){return t.key!==e})})},n.handleSubmit=function(e){var t=n.props,a=t.companyName,l=t.form,r=(t.loading,n.state),i=r.checkedValues,o=r.checkedValues2,s=r.companyCode,c=r.fileList,d=r.reportType,u=r.languages,m=r.serviceStart,h=r.po,f=r.contractCode,g=r.deferredTime2,p=r.serviceEnd,v=r.contractType,b=r.userArr,E=r.radarMoney,M=r.hisMoney,C=[],S=null,k=null;l.validateFields(function(e,t){if(i!=[]&&void 0!=i&&0!=i.length||o!=[]&&void 0!=o&&0!=o.length){if(n.setState({ifglgsValidate:!1}),!e){S="\u6709\u8d22\u62a5"==t.reportType||"Financial Report"==t.reportType?"1":"\u65e0\u8d22\u62a5"==t.reportType||"No financial report"==t.reportType?"2":t.reportType,k="\u4e2d\u6587"==t.languages||"Chinese"==t.languages?"1":"\u4e2d\u82f1\u6587"==t.languages||"Chinese English"==t.languages?"2":t.languages;var l=new FormData,r=(t.serviceStart,Te(new Date(t.deferredTime))),j=Te(new Date(t.serviceStart)),w=Te(new Date(t.serviceEnd)),O=new Date(t.deferredTime).getTime(),R=new Date(t.serviceStart).getTime(),V=new Date(t.serviceEnd).getTime();if(void 0===t.deferredTime||""===t.deferredTime||null===t.deferredTime){if(r="",w<j)return void y["a"].info({title:"\u751f\u6548\u65f6\u95f4\u5e94\u5f53\u5c0f\u4e8e\u5931\u6548\u65f6\u95f4\uff01"})}else if(O>V&&V<R||O<V&&V<R||O<V&&V>R)return void y["a"].info({title:"\u9012\u5ef6\u65f6\u95f4\u4e0d\u80fd\u5c0f\u4e8e\u5931\u6548\u65f6\u95f4\uff01"});if(Ve!=[]&&0!=Ve.length||Oe!=[]&&0!=Oe.length||null!=c||d!=t.reportType||u!=t.languages||m!=j||M!=t.hisMoney||E!=t.radarMoney||!(t.ifglgs instanceof Array)||h!=t.po||p!=w||g!=r||t.contractCode!=f||t.contractType!=v||t.userArr!=b)if(i!=[]&&void 0!=i&&0!=i.length)if(i!=[]&&void 0!=i&&0!=i.length||o!=[]&&void 0!=o&&0!=o.length){for(var T=!1,D=!1,F=!1,N=!1,x=!1,z=!1,B=0;B<o.length;B++)for(var I=0;I<i.length;I++)"5"==o[B]&&("1"!=i[I]||T?N=!0:T=!0),"6"==o[B]&&("2"!=i[I]||D?x=!0:D=!0),"7"==o[B]&&("3"!=i[I]||F?z=!0:F=!0);if(N&&!T||x&&!D||z&&!F)y["a"].info({title:"\u6bcf\u9879\u76d1\u63a7\u670d\u52a1\u9700\u9009\u62e9\u5bf9\u5e94\u7684\u5386\u53f2\u670d\u52a1"});else{n.setState({ifglgsValidate:!1});var q="\u8bd5\u7528\u5408\u540c"===t.contractType?"0":"\u6b63\u5f0f\u5408\u540c"===t.contractType?"1":t.contractType;if(Oe.length>0)for(var A=0;A<Oe.length;A++)C.push({riskType:Oe[A].ruleCode,ruleName:Oe[A].riskType,ifglgs:i.concat(o),poflag:t.po,languages:k,reportType:S,companyName:a,companyCode:s,radarMoney:t.radarMoney,hisMoney:t.hisMoney,serviceStart:j,flag:"2",contractCode:t.contractCode,deferredTime:r,serviceEnd:w,contractType:q,userArr:t.userArr});if(Ve.length>0)for(var Y=0;Y<Ve.length;Y++)C.push({riskType:Ve[Y].ruleCode,ruleName:Ve[Y].ruleType,ifglgs:i.concat(o),poflag:t.po,languages:k,reportType:S,companyName:a,companyCode:s,radarMoney:t.radarMoney,hisMoney:t.hisMoney,serviceStart:j,flag:"1",contractCode:t.contractCode,deferredTime:r,serviceEnd:w,contractType:q,userArr:t.userArr});(t.hisMoney&&""!=t.hisMoney||t.radarMoney&&""!=t.radarMoney||null!=k&&""!=k||null!=S&&""!=S||null!=t.ifglgs&&""!=t.ifglgs)&&C.push({riskType:null,ruleName:null,ifglgs:i.concat(o),poflag:t.po,languages:k,reportType:S,companyName:a,companyCode:s,radarMoney:t.radarMoney,hisMoney:t.hisMoney,serviceStart:j,flag:"1",contractCode:t.contractCode,deferredTime:r,serviceEnd:w,contractType:q,userArr:t.userArr}),l.append("list",JSON.stringify(C)),null!=c&&l.append("file",c),n.props.edit(l),n.setState({fileList:null}),C.length=0,Ve.length=0,Oe.length=0}}else n.setState({ifglgsValidate:!0});else y["a"].info({title:"\u672a\u9009\u62e9\u5386\u53f2\u670d\u52a1\u4e0d\u80fd\u9009\u62e9\u76d1\u63a7\u670d\u52a1"});else y["a"].info({title:Object(L["formatMessage"])({id:"rule.noupdate"})})}}else n.setState({ifglgsValidate:!0})})},n.handleSave=function(e){var t=ae()(n.state.dataSource),a=t.findIndex(function(t){return e.key===t.key}),l=t[a];t.splice(a,1,ie()({},l,e)),n.setState({dataSource:t})},n.onChangeHis=function(e){n.setState({hisValue:e})},n.onChangeRadar=function(e){n.setState({radarValue:e})},n.state={dataSource:[],rulelist:[],visible2:!1,disabled:!0,disabled2:!0,checkedValues:[],checkedValues2:[],fileList:null,radarMoneyValidate:!1,hismoneyValidate:!1,selectedItems:[]},n}return C()(a,[{key:"getOption",value:function(){var e=this.state.dataSource,t=this.props,a=t.rulelist;t.data;Re.length=0;var n=null;if(void 0!=e&&e.length>0){for(var l=0;l<a.length;l++){for(var r=0;r<e.length;r++)if(a[l].code==e[r].ruleCode){Re.push(z.a.createElement(je,{disabled:!0,value:a[l].name},a[l].name)),n=l;break}n!=l&&Re.push(z.a.createElement(je,{value:a[l].name},a[l].name))}return Re}if(void 0!=a&&a.length>0){for(var i=0;i<a.length;i++)Re.push(z.a.createElement(je,{value:a[i].name},a[i].name));return Re}}},{key:"onBlurCommon",value:function(e){var t=this.props.form.validateFields;t([e])}},{key:"setdate",value:function(e){this.setState({serviceStart:Te(new Date(e))})}},{key:"setServiceEnd",value:function(e){this.setState({serviceEnd:Te(new Date(e))})}},{key:"setDferredTime",value:function(e){this.setState({deferredTime:Te(new Date(e))})}},{key:"disabledDate",value:function(e){var t=this.state.serviceEnd;return e<U()(new Date(t))}},{key:"disabledDate1",value:function(e){return U()(new Date)>e}},{key:"handleChange",value:function(e,t){var a={ruleType:t};this.handleSave(ie()({},e,a))}},{key:"ChangeName",value:function(e,t){var a={ruleName:t};this.handleSave(ie()({},e,a))}},{key:"clone",value:function(){this.setState({disabled2:!0,disabled:!0,checkedValues:[],fileList:null,userArrData:[]}),this.props.clone(),this.props.form.resetFields()}},{key:"clone2",value:function(){var e=this,t=this.props.form;t.validateFields(function(t,a){Re.length=0,e.setState({visible2:!1,ruleValidate:!1,reportType:a.reportType,languages:a.languages,ifglgs:a.ifglgs,money:a.money,serviceStart:a.serviceStart,riskType:"",userArrData:[]})}),this.props.form.resetFields()}},{key:"onBluriflag",value:function(){var e=this,t=this.props.form,a=this.state.checkedValues;t.validateFields(["ifglgs"],{},function(t,n){a!=[]&&void 0!=a&&0!=a.length?e.setState({ifglgsValidate:!1}):e.setState({ifglgsValidate:!0})})}},{key:"onBlurPO",value:function(){var e=this,t=this.props.form;t.validateFields(["po"],{},function(t,a){if(a)return void 0!==a.po&&""!==a.po&&null!==a.po?void e.setState({poValidate:!1}):void e.setState({poValidate:!0});e.setState({poValidate:!0})})}},{key:"componentDidMount",value:function(){this.props.onRef("JwnewReport",this)}},{key:"editFlash",value:function(e,t,a){var n=this.state.dataSource,l=(this.props.values,t.ifglgs);if(null!=l&&l.length>0){var r=this,i=!0,o=!0,s=[],c=[];l.map(function(e){"0"!=e&&"1"!=e&&"2"!=e&&"3"!=e||(s.push(e),"0"==e&&(i=!1,r.setState({disabled:i}))),"4"!=e&&"5"!=e&&"6"!=e&&"7"!=e||(c.push(e),"4"==e&&(o=!1,r.setState({disabled2:o})))}),r.setState({checkedValues:s,checkedValues2:c})}if(void 0!=e&&e!=[]){n.length=0;for(var d=0;d<e.length;d++)n.push({key:""+d,ruleCode:e[d].risktypeCode,ruleName:e[d].riskType,ruleType:e[d].ruleName})}t.serviceStart<Te(new Date)&&(this.jinZhi=!0),this.setState({reportType:t.reportType,languages:t.languages,companyCode:t.companyCode,radarMoney:t.radarMoney,hisMoney:t.hisMoney,serviceStart:t.serviceStart,dataSource:n,po:t.po,contractCode:t.contractCode,deferredTime:t.deferredTime,deferredTime2:t.deferredTime,serviceEnd:t.serviceEnd,contractType:t.contractType,contractState:t.contractState,userArr:t.userArr,userArrData:a})}},{key:"componentWillReceiveProps",value:function(e){var t=e.rulelist,a=e.loading2;"ok"==a&&this.props.clone(),this.setState({rulelist:t})}},{key:"visible2",value:function(){Re.length=0,this.setState({visible2:!0})}},{key:"Checkbox",value:function(e){"0"===e[0]?this.setState({disabled:!1,checkedValues:e}):this.setState({disabled:!0,checkedValues:[]})}},{key:"Checkbox2",value:function(e){"4"===e[0]?this.setState({disabled2:!1,checkedValues2:e}):this.setState({disabled2:!0,checkedValues2:[]})}},{key:"onBlurHisMoney",value:function(){var e=this,t=this.props.form;t.validateFields(["hisMoney"],{},function(t,a){if(a)return void 0!==a.hisMoney&&""!==a.hisMoney&&null!==a.hisMoney?void e.setState({hismoneyValidate:!1}):void e.setState({hismoneyValidate:!0});e.setState({hismoneyValidate:!0})})}},{key:"onBlurRadarMoney",value:function(){var e=this,t=this.props.form;t.validateFields(["radarMoney"],{},function(t,a){if(a)return void 0!==a.radarMoney&&""!==a.radarMoney&&null!==a.radarMoney?void e.setState({radarMoneyValidate:!1}):void e.setState({radarMoneyValidate:!0});e.setState({radarMoneyValidate:!0})})}},{key:"onBlurrule",value:function(){var e=this,t=this.props,a=t.form;t.companyName,t.data;a.validateFields(["select"],{},function(t,a){if(a)return void 0!==a.select&&""!==a.select&&null!==a.select?void e.setState({ruleValidate:!1,infovalue:""}):void e.setState({ruleValidate:!0,infovalue:Object(L["formatMessage"])({id:"rule.rulenotnull"})});e.setState({ruleValidate:!0,infovalue:Object(L["formatMessage"])({id:"rule.rulenotnull"})})})}},{key:"queding",value:function(){var e=this,t=this.state,a=(t.riskType,t.riskType2,t.dataSource),n=this.props,l=(n.companyName,n.rulelist,n.form);l.validateFields(["select"],{},function(t,n){if(void 0!==n.select&&""!==n.select&&null!==n.select&&0!==n.select.length){e.setState({ruleValidate:!1});var l=a.length+1,r=e,i={risktypeCodeArray:n.select};P.a.post("".concat(I["a"],"/relation/jwRelationRule/searchRuleByCode"),G.a.stringify(i)).then(function(e){if(void 0!=e&&null!=e.data){for(var t=0;t<e.data.length;t++)if(""!=e.data[t].panduanrule&&null!=e.data[t].panduanrule)return void r.setState({ruleValidate:!0,infovalue:"\u201c"+e.data[t].panduanrule+"\u201d"+Object(L["formatMessage"])({id:"rule.ruleno"})});for(var n=0;n<e.data.length;n++){for(var i=0;i<a.length;i++)if(e.data[n].riskType===a[i].ruleName)return r.setState({ruleValidate:!0,infovalue:"\u201c"+e.data[n].riskType+"\u201d"+Object(L["formatMessage"])({id:"rule.chongfu"})}),void r.props.form.resetFields();a.push({key:""+l,ruleCode:e.data[n].risktypeCode,ruleName:e.data[n].riskType,ruleType:e.data[n].ruleName,flag:"1"}),Ve.push({ruleCode:e.data[n].risktypeCode,ruleName:e.data[n].riskType,ruleType:e.data[n].ruleName,flag:"1"}),l+=1}r.setState({dataSource:a,riskType:"",ruleValidate:!1,visible2:!1,infovalue:""})}}),e.getOption(),Ve.length=0}else e.setState({ruleValidate:!0,infovalue:Object(L["formatMessage"])({id:"rule.rulenotnull"})})})}},{key:"Changeselect",value:function(e){this.props.riskType;this.setState({riskType:e})}},{key:"searchselect",value:function(e){this.props.riskType;this.setState({riskType:e,riskType2:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.visible2,o=t.reportType,c=t.languages,m=t.po,g=t.ifglgs,v=t.hisMoney,b=t.radarMoney,E=t.disabled,M=t.serviceStart,C=(t.disabled2,t.ruleValidate),S=t.infovalue,k=t.checkedValues,j=t.checkedValues2,w=t.companyCode,O=(t.fileList,t.ifglgsValidate),R=(t.poValidate,t.contractCode),V=t.deferredTime,T=t.serviceEnd,x=t.contractType,B=(t.contractState,t.userArr),q=t.userArrData,A=t.selectedItems;void 0!==M&&void 0!==T&&(U()(new Date(M))>U()((new Date).getTime())||(""===V?(U()(new Date(T)),U()((new Date).getTime())):(U()(new Date(V)),U()((new Date).getTime()))));var Y=this.props,H=Y.visible,P=Y.companyName,J=Y.loading,G=(Y.values,Y.bianji),Z=this.props.form.getFieldDecorator,W=this.columns.map(function(t){return t.editable?ie()({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}),X=this.columns2.map(function(t){return t.editable?ie()({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}),K={name:"file",multiple:!0,action:"".concat(I["a"],"/relation/jwRelationRule/upLoad"),data:{companyName:P,companyCode:w,uploadflag:"2"},beforeUpload:function(t){return e.setState(function(e){e.fileList;return{fileList:t}}),u["a"].success("".concat(t.name," ")+Object(L["formatMessage"])({id:"rule.info6"})),!1}};z.a.createElement("div",null,z.a.createElement(r["a"].Group,{value:k,style:{float:"left",padding:0}},z.a.createElement(r["a"],{value:"0"},Object(L["formatMessage"])({id:"rule.lishi"})),z.a.createElement(r["a"],{disabled:E,value:"1"},Object(L["formatMessage"])({id:"rule.hanGd"})),z.a.createElement(r["a"],{disabled:E,value:"2"},Object(L["formatMessage"])({id:"rule.hanZgs"})),z.a.createElement(r["a"],{disabled:E,value:"3"},Object(L["formatMessage"])({id:"rule.hanDjgdwtz"}))),z.a.createElement(r["a"].Group,{value:j,style:{float:"left",padding:0}},z.a.createElement(r["a"],{value:"4"},Object(L["formatMessage"])({id:"rule.jiankong"}))));return z.a.createElement("div",null,"edit"==G?z.a.createElement(y["a"],{title:P,ref:"modal",visible:H,keyboard:!0,footer:[],onCancel:this.clone.bind(this),width:"71%",destroyOnClose:!0},z.a.createElement(D["a"],null,z.a.createElement(h["a"],{gutter:24},z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.hetongbianhao"})},Z("contractCode",{initialValue:R,rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.hetongbianhaobunengweikong"}))}]})(z.a.createElement(le["a"],{style:{width:172},disabled:!0,placeholder:Object(L["formatMessage"])({id:"rule.qingshuruhetongbianhao"})})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.hetongleixing"})},Z("contractType",{initialValue:x,rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.hetongleixingbunengweikong"}))}]})(z.a.createElement(N["a"],{style:{width:172},onBlur:function(){e.onBlurCommon("contractType")},disabled:this.jinZhi},z.a.createElement(je,{value:"0"},z.a.createElement(L["FormattedMessage"],{id:"rule.shiyonghetong"})),z.a.createElement(je,{value:"1"},z.a.createElement(L["FormattedMessage"],{id:"rule.zhengshihetong"})))))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.fuwudate"})},Z("serviceStart",{initialValue:U()(null===M?"":M,"YYYY-MM-DD"),rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"business.rules.fuwustartdate"}))}]})(z.a.createElement(i["a"],{disabled:this.jinZhi})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.fuwujieshushijian"})},Z("serviceEnd",{initialValue:U()(null===T?"":T,"YYYY-MM-DD"),rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.fuwujieshushijianbunengweikong"}))}]})(z.a.createElement(i["a"],{disabled:this.jinZhi,onChange:this.setServiceEnd.bind(this),onBlur:function(){e.onBlurCommon("serviceEnd")}})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.diyanjiezhishijian"})},Z("deferredTime",{initialValue:""===V?"":U()(null===V?"":V,"YYYY-MM-DD")})(z.a.createElement(i["a"],{disabledDate:this.disabledDate1.bind(this),onChange:this.setDferredTime.bind(this)})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.zhanghao"})},Z("userArr",{initialValue:void 0===B?[]:B,rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.zhanghaobunengweikong"}))}]})(z.a.createElement(Ee,{value:A,maxTagCount:0,showArrow:!0,onChange:function(t){e.handleChange(t)},style:ee()({width:"100%",height:32},"width",172)},void 0!==q?q.map(function(e){return z.a.createElement(N["a"].Option,{key:e},e)}):[])))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.Languages"})},Z("languages",{initialValue:c,rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.info29"}))}]})(z.a.createElement(N["a"],{style:{width:172},placeholder:Object(L["formatMessage"])({id:"rule.info10"})},z.a.createElement(je,{value:"1"},Object(L["formatMessage"])({id:"rule.info11"})),z.a.createElement(je,{value:"2"},Object(L["formatMessage"])({id:"rule.info12"})))))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.reporttype"})},Z("reportType",{initialValue:o,rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.info30"}))}]})(z.a.createElement(N["a"],{style:{width:172}},z.a.createElement(je,{value:"1"},Object(L["formatMessage"])({id:"rule.info14"})),z.a.createElement(je,{value:"2"},Object(L["formatMessage"])({id:"rule.info15"})))))),z.a.createElement(p["a"],{span:12},z.a.createElement(ke,{validateStatus:O?"error":"",help:O?Object(L["formatMessage"])({id:"rule.info2"}):"",label:z.a.createElement(L["FormattedMessage"],{id:"rule.info"})},Z("ifglgs",{initialValue:k.concat(j),rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.info2"}))}]})(z.a.createElement("div",null,z.a.createElement(r["a"].Group,{onBlur:function(){e.onBluriflag()},onFocus:function(){e.setState({ifglgsValidate:!1})},value:k,style:{float:"left",padding:0},onChange:this.Checkbox.bind(this)},z.a.createElement(r["a"],{value:"0"},Object(L["formatMessage"])({id:"rule.lishi"})),z.a.createElement(r["a"],{disabled:E,value:"1"},Object(L["formatMessage"])({id:"rule.hanGd"})),z.a.createElement(r["a"],{disabled:E,value:"2"},Object(L["formatMessage"])({id:"rule.hanZgs"})),z.a.createElement(r["a"],{disabled:E,value:"3"},Object(L["formatMessage"])({id:"rule.hanDjgdwtz"}))),z.a.createElement(r["a"].Group,{value:j,style:{float:"left",padding:0},onChange:this.Checkbox2.bind(this)},z.a.createElement(r["a"],{value:"4"},Object(L["formatMessage"])({id:"rule.jiankong"}))))))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.hismoney"})},Z("hisMoney",{initialValue:v,rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.infohismoney"}))}]})(z.a.createElement(he,{style:{width:"100%"},value:this.state.hValue,onChange:this.onChangeHis,onBlur:function(){e.onBlurHisMoney()},onFocus:function(){e.setState({hismoneyValidate:!1})}})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.radarmoney"})},Z("radarMoney",{initialValue:b,rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.inforadarmoney"}))}]})(z.a.createElement(he,{style:{width:"100%"},value:this.state.rValue,onChange:this.onChangeRadar,onBlur:function(){e.onBlurRadarMoney()},onFocus:function(){e.setState({radarMoneyValidate:!1})}})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"po\u53f7"})},Z("po",{initialValue:m,rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.info34"}))}]})(z.a.createElement(N["a"],{placeholder:Object(L["formatMessage"])({id:"rule.info33"}),style:{width:172},onBlur:function(){e.onBlurPO()},onFocus:function(){e.setState({poValidate:!1})}},z.a.createElement(je,{value:"1"},Object(L["formatMessage"])({id:"rule.info31"})),z.a.createElement(je,{value:"0"},Object(L["formatMessage"])({id:"rule.info32"})))))),z.a.createElement(p["a"],{span:6}),z.a.createElement(p["a"],{span:2},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:Object(L["formatMessage"])({id:"rule.bangding"})})},z.a.createElement(F["a"],s()({style:{width:172},showUploadList:!1},K),z.a.createElement(f["a"],null,z.a.createElement(l["a"],{type:"upload"})," ",Object(L["formatMessage"])({id:"rule.bangding"}))))))),z.a.createElement(d["a"],{bordered:!0,dataSource:a,columns:W,loading:J,pagination:!1,scroll:{y:"100px"}}),z.a.createElement(f["a"],{type:"dashed",block:!0,style:ee()({color:"#1890FF"},"color","#3D73FE"),onClick:this.visible2.bind(this)},z.a.createElement(l["a"],{type:"plus"}),Object(L["formatMessage"])({id:"Jwbulkapply.insert"})),z.a.createElement("br",null),z.a.createElement("br",null),z.a.createElement(f["a"],{type:"primary",style:{display:"eye"==G?"none":"block",backgroundColor:"#3D73FE",float:"right",marginLeft:10},htmlType:"submit",onClick:this.handleSubmit.bind(this)},Object(L["formatMessage"])({id:"rule.save"})),z.a.createElement(f["a"],{onClick:this.clone.bind(this),style:{float:"right"}},Object(L["formatMessage"])({id:"jindiao.JwReport.quxiao"})),z.a.createElement("br",null)):z.a.createElement(y["a"],{title:P,ref:"modal",visible:H,keyboard:!0,footer:[],onCancel:this.clone.bind(this),width:"71%",destroyOnClose:!0},z.a.createElement(D["a"],null,z.a.createElement(h["a"],{gutter:24},z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.hetongbianhao"})},Z("contractCode",{initialValue:R})(z.a.createElement(le["a"],{disabled:!0,style:{width:172}})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.hetongleixing"})},Z("contractType",{initialValue:x})(z.a.createElement(N["a"],{disabled:!0,style:{width:172}})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.fuwudate"})},Z("serviceStart",{initialValue:U()(null===M?"":M,"YYYY-MM-DD")})(z.a.createElement(i["a"],{disabled:!0})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.fuwujieshushijian"})},Z("serviceEnd",{initialValue:U()(null===T?"":T,"YYYY-MM-DD")})(z.a.createElement(i["a"],{disabled:!0})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.diyanjiezhishijian"})},Z("deferredTime",{initialValue:""===V?"":U()(null===V?"":V,"YYYY-MM-DD")})(z.a.createElement(i["a"],{disabled:!0})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.zhanghao"})},Z("userArr",{initialValue:void 0===B?[]:B})(z.a.createElement(Ee,{value:A,maxTagCount:0,showArrow:!0,style:ee()({width:"100%",height:32},"width",172)},void 0!==q?q.map(function(e){return z.a.createElement(N["a"].Option,{key:e},e)}):[])))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.Languages"})},Z("languages",{initialValue:c})(z.a.createElement(N["a"],{disabled:!0,style:{width:172}})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.reporttype"})},Z("reportType",{initialValue:o})(z.a.createElement(N["a"],{disabled:!0,style:{width:172}})))),z.a.createElement(p["a"],{span:12},z.a.createElement(ke,{validateStatus:O?"error":"",help:O?Object(L["formatMessage"])({id:"rule.info2"}):"",label:z.a.createElement(L["FormattedMessage"],{id:"rule.info"})},Z("ifglgs",{initialValue:k.concat(j)})(z.a.createElement("div",null,z.a.createElement(r["a"].Group,{onBlur:function(){e.onBluriflag()},onFocus:function(){e.setState({ifglgsValidate:!1})},value:k,style:{float:"left",padding:0},onChange:this.Checkbox.bind(this)},z.a.createElement(r["a"],{value:"0"},Object(L["formatMessage"])({id:"rule.lishi"})),z.a.createElement(r["a"],{disabled:E,value:"1"},Object(L["formatMessage"])({id:"rule.hanGd"})),z.a.createElement(r["a"],{disabled:E,value:"2"},Object(L["formatMessage"])({id:"rule.hanZgs"})),z.a.createElement(r["a"],{disabled:E,value:"3"},Object(L["formatMessage"])({id:"rule.hanDjgdwtz"}))),z.a.createElement(r["a"].Group,{value:j,style:{float:"left",padding:0},onChange:this.Checkbox2.bind(this)},z.a.createElement(r["a"],{value:"4"},Object(L["formatMessage"])({id:"rule.jiankong"}))))))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.hismoney"})},Z("hisMoney",{initialValue:v})(z.a.createElement(he,{style:{width:"100%"},disabled:!0})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.radarmoney"})},Z("radarMoney",{initialValue:b})(z.a.createElement(he,{style:{width:"100%"},disabled:!0})))),z.a.createElement(p["a"],{span:6},z.a.createElement(ke,{label:z.a.createElement(L["FormattedMessage"],{id:"po\u53f7"})},Z("po",{initialValue:m})(z.a.createElement(N["a"],{disabled:!0,placeholder:Object(L["formatMessage"])({id:"rule.info33"}),style:{width:172}},z.a.createElement(je,{value:"1"},Object(L["formatMessage"])({id:"rule.info31"})),z.a.createElement(je,{value:"0"},Object(L["formatMessage"])({id:"rule.info32"})))))))),z.a.createElement(d["a"],{rowClassName:function(){return"editable-row"},bordered:!0,dataSource:a,columns:X,loading:J,pagination:!1,scroll:{y:"100px"}}),z.a.createElement("br",null),z.a.createElement("br",null),z.a.createElement(f["a"],{onClick:this.clone.bind(this),style:{float:"right"}},Object(L["formatMessage"])({id:"jindiao.JwReport.quxiao"})),z.a.createElement("br",null)),z.a.createElement(y["a"],{title:Object(L["formatMessage"])({id:"rule.xinzenggz"}),ref:"modal",visible:n,keyboard:!0,footer:[],onCancel:this.clone2.bind(this),destroyOnClose:!0},z.a.createElement("div",{style:{textAlign:"center",margin:"0 auto"}},z.a.createElement(D["a"],null,z.a.createElement(ke,{validateStatus:C?"error":"",help:C?S:""},Z("select",{})(z.a.createElement(N["a"],{mode:"tags",style:{width:"70%"},placeholder:Object(L["formatMessage"])({id:"rule.xuanzerule"}),onSearch:this.searchselect.bind(this),onChange:this.Changeselect.bind(this),onBlur:function(){e.onBlurrule()},onFocus:function(){e.setState({ruleValidate:!1})}},this.getOption()))))),z.a.createElement("br",null),z.a.createElement("br",null),z.a.createElement(f["a"],{type:"primary",style:{backgroundColor:"#3D73FE",float:"right",marginLeft:10},onClick:this.queding.bind(this,o,c,g)},Object(L["formatMessage"])({id:"rule.queding"})),z.a.createElement(f["a"],{onClick:this.clone2.bind(this),style:{float:"right"}},Object(L["formatMessage"])({id:"jindiao.JwReport.quxiao"})),z.a.createElement("br",null)))}}]),a}(z.a.Component),ye=ve))||ye);var Fe,Ne,xe,ze=a("HZnN"),Be=a("usdK");function Ie(e){var t=qe();return function(){var a,n=T()(e);if(t){var l=T()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return R()(this,a)}}function qe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var Ae=N["a"].Option,Ye=F["a"].Dragger,Le=D["a"].Item,He=null;function Pe(e){var t=[];if(void 0!==e&&null!==e&&e.length>0)for(var a=0;a<e.length;a++)t.push(z.a.createElement(Ae,{key:e[a].code,value:e[a].code},z.a.createElement(A["a"],{tooltip:!0,lines:1},e[a].name)));return t}function Je(e,t){var a=[],n=[];if(null!=e&&(n=e.split(t)),n.length>1)for(var l=0;l<n.length;l++)l==n.length-1?a.push(z.a.createElement("span",null,n[l])):a.push(z.a.createElement("span",null,n[l]+" ; ",z.a.createElement("br",null)));else a.push(z.a.createElement("span",null,n[0]+" ; ",z.a.createElement("br",null)));return a}function Ge(e){var t=0,a=0,n=0,l="";return t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),l+=t+"-",l+=a>=10?a+"-":"0"+a+"-",l+=n>=10?n:"0"+n,l}var Ze=(Fe=Object(B["connect"])(function(e){var t=e.user,a=e.jwRelationRuleModel,n=e.loading;return{loadingAll:n.models.jwRelationRuleModel,jwRelationRuleModel:a,currentUser:t.currentUser,loading:n.effects["jwRelationRuleModel/searchRelation"]}}),Fe((xe=function(e){w()(a,e);var t=Ie(a);function a(e){var n;return E()(this,a),n=t.call(this,e),n.columns=[{title:Object(L["formatMessage"])({id:"rule.hetongbianhao"}),dataIndex:"contractCode",key:"contractCode",width:"4%",align:"center",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.target"}),dataIndex:"companyName",key:"companyName",width:"10%",align:"center",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.hetongleixing"}),dataIndex:"contractType",key:"contractType",width:"4%",align:"center",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.hetongzhuangtai"}),dataIndex:"contractState",key:"contractState",width:"4%",align:"center",render:function(e,t){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.fuwudate"}),dataIndex:"serviceStart",key:"serviceStart",width:"4%",align:"center"},{title:Object(L["formatMessage"])({id:"rule.fuwujieshushijian"}),dataIndex:"serviceEnd",key:"serviceEnd",width:"4%",align:"center"},{title:Object(L["formatMessage"])({id:"rule.diyanjiezhishijian"}),dataIndex:"deferredTime",key:"deferredTime",width:"4%",align:"center"},{title:Object(L["formatMessage"])({id:"rule.reporttype"}),dataIndex:"reportType",key:"reportType",width:"4%",align:"center",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.Languages"}),dataIndex:"languages",key:"languages",width:"4%",align:"center",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.ifglgs"}),dataIndex:"ifglgsval",key:"ifglgsval",width:"4%",align:"center",render:function(e,t){return z.a.createElement(A["a"],{tooltip:!0,lines:1},Je(e,";"))}},{title:Object(L["formatMessage"])({id:"rule.hismoney"}),dataIndex:"hisMoney",key:"hisMoney",width:"4%",align:"center",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.radarmoney"}),dataIndex:"radarMoney",key:"radarMoney",width:"4%",align:"center",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.useraccount"}),dataIndex:"userId",key:"userId",width:"4%",align:"center",render:function(e,t){return z.a.createElement(A["a"],{tooltip:!0,lines:1},Je(e,","))}},{title:Object(L["formatMessage"])({id:"rule.rulenumber"}),dataIndex:"rulesNumber",key:"rulesNumber",width:"4%",align:"center",render:function(e,t){return z.a.createElement(A["a"],{tooltip:!0,lines:1},z.a.createElement("a",{onClick:n.xzrule.bind(k()(n),t)},e))}},{title:Object(L["formatMessage"])({id:"rule.WeihuUser"}),dataIndex:"weihuUser",key:"weihuUser",align:"center",width:"4%",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.uploadtime"}),dataIndex:"insertdate",key:"insertdate",align:"center",width:"4%",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.updateUser"}),dataIndex:"updateUser",key:"updateUser",align:"center",width:"4%",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.updatetime"}),dataIndex:"updateTime",key:"updateTime",align:"center",width:"4%",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.shenhezzhuangtai"}),dataIndex:"auditStatus",key:"auditStatus",align:"center",width:"4%",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.shenheren"}),dataIndex:"checker",key:"checker",align:"center",width:"4%",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.shenheshijian"}),dataIndex:"auditTime",key:"auditTime",align:"center",width:"4%",render:function(e){return z.a.createElement(A["a"],{tooltip:!0,lines:1},e)}},{title:Object(L["formatMessage"])({id:"rule.caozuo1"}),dataIndex:"caozuo1",key:"caozuo1",align:"center",fixed:"right",width:"10%",render:function(e,t){return z.a.createElement("div",null,z.a.createElement(ze["a"],{authority:"businessrules:Relation:look"},z.a.createElement(x["Fragment"],null,z.a.createElement("a",{onClick:n.showModal.bind(k()(n),t,"eye")},Object(L["formatMessage"])({id:"rule.look"})))),z.a.createElement(ze["a"],{authority:"businessrules:Relation:edit"},z.a.createElement(v["a"],{type:"vertical"}),z.a.createElement(x["Fragment"],null,z.a.createElement("a",{onClick:n.showModal.bind(k()(n),t,"edit")},Object(L["formatMessage"])({id:"business.rules.edit"})))),z.a.createElement(ze["a"],{authority:"businessrules:Relation:delete"},z.a.createElement(v["a"],{type:"vertical"}),z.a.createElement(x["Fragment"],null,z.a.createElement("a",{onClick:n.simpleModal.bind(k()(n),t,"shanchu")},Object(L["formatMessage"])({id:"rule.shanchu"})))),z.a.createElement(ze["a"],{authority:"businessrules:Relation:shenhe"},z.a.createElement(v["a"],{type:"vertical"}),z.a.createElement(x["Fragment"],null,z.a.createElement("a",{onClick:n.simpleModal.bind(k()(n),t,"shenhe")},Object(L["formatMessage"])({id:"rule.shenhe"})))),z.a.createElement(ze["a"],{authority:"businessrules:Relation:qishen"},z.a.createElement(v["a"],{type:"vertical"}),z.a.createElement(x["Fragment"],null,z.a.createElement("a",{onClick:n.simpleModal.bind(k()(n),t,"qishen")},Object(L["formatMessage"])({id:"rule.qishen"})))))}}],n.search=function(e){e.preventDefault();var t=n.props,a=t.dispatch,l=t.form;l.validateFields(function(e,t){n.setState({companyName:t.companyName,pContractCode:t.pContractCode,pContractState:t.pContractState,pContractType:t.pContractType}),a({type:"jwRelationRuleModel/searchRelation",payload:{companyName:t.companyName,pContractCode:t.pContractCode,pContractState:t.pContractState,pContractType:t.pContractType}})}),n.setState({loading2:"no"})},n.addModal=function(){var e=n.props,t=e.form,a=e.dispatch,l=t.resetFields;l(),n.setState({ifglgsValidate:!1,yuzhongValidate:!1,nameValidate:!1,ruleNameValidate:!1,ifStopValidate:!1,AccessInterface:"",ImpactModule:"",visible:!0,tilteName:Object(L["formatMessage"])({id:"rule.new"}),record:null,companyName:null}),a({type:"jwRelationRuleModel/Clear"})},n.clone3=function(){n.setState({visible3:!1,companyName:null,record:null,visible4:!1,auditStatus:""})},n.submit=function(e){e.preventDefault();var t=n.props,a=t.dispatch,l=t.form,r=n.state,i=r.checkedValues,o=r.checkedValues2,s=r.fileList;r.hisMoney,r.radarMoney;l.validateFields(function(e,t){if(i!=[]&&void 0!=i&&0!=i.length||o!=[]&&void 0!=o&&0!=o.length)if(n.setState({ifglgsValidate:!1}),i!=[]&&void 0!=i&&0!=i.length)if(i!=[]&&void 0!=i&&0!=i.length||o!=[]&&void 0!=o&&0!=o.length){for(var l=!1,r=!1,c=!1,d=!1,u=!1,m=!1,h=0;h<o.length;h++)for(var f=0;f<i.length;f++)"5"==o[h]&&("1"!=i[f]||l?d=!0:l=!0),"6"==o[h]&&("2"!=i[f]||r?u=!0:r=!0),"7"==o[h]&&("3"!=i[f]||c?m=!0:c=!0);if(d&&!l||u&&!r||m&&!c)y["a"].info({title:"\u6bcf\u9879\u76d1\u63a7\u670d\u52a1\u9700\u9009\u62e9\u5bf9\u5e94\u7684\u5386\u53f2\u670d\u52a1"});else if(n.setState({ifglgsValidate:!1}),!e){var g=new FormData;null!=s&&g.append("file",s);var p=Ge(new Date(t.deferredTime)),v=Ge(new Date(t.serviceStart)),b=Ge(new Date(t.serviceEnd));if(void 0===t.deferredTime||""===t.deferredTime||null===t.deferredTime){if(p="",b<v)return void y["a"].info({title:"\u751f\u6548\u65f6\u95f4\u5e94\u5f53\u5c0f\u4e8e\u5931\u6548\u65f6\u95f4\uff01"})}else if(p>b&&b<v||p<b&&b<v||p<b&&b>v)return void y["a"].info({title:"\u9012\u5ef6\u65f6\u95f4\u4e0d\u80fd\u5c0f\u4e8e\u5931\u6548\u65f6\u95f4\uff01"});g.append("companyName",t.name),g.append("contractType",t.contractType),g.append("userArr",t.userArr),g.append("risktypeCodeArray",t.ruleName),g.append("ifglgs",i.concat(o)),g.append("poflag",t.po),g.append("languages",t.yuzhong),g.append("reportType",t.caibao),g.append("hisMoney",t.hisMoney),g.append("radarMoney",t.radarMoney),g.append("companyCode",He),g.append("serviceStart",v),g.append("serviceEnd",b),g.append("deferredTime",p),g.append("saveflag","1"),a({type:"jwRelationRuleModel/save",payload:g}).then(function(){var e=n.props.jwRelationRuleModel.savelist;0===e.code?(a({type:"jwRelationRuleModel/searchRelation",payload:{}}),a({type:"jwRelationRuleModel/searchRule",payload:{}}),n.setState({visible:!1,checkedValues:[],checkedValues2:[]}),y["a"].success({title:e.msg}),Be["a"].push("/businessRules/page/jwRelation")):2===e.code?y["a"].info({title:e.msg}):y["a"].error({title:e.msg})})}}else n.setState({ifglgsValidate:!0});else y["a"].info({title:"\u672a\u9009\u62e9\u5386\u53f2\u670d\u52a1\u4e0d\u80fd\u9009\u62e9\u76d1\u63a7\u670d\u52a1"});else n.setState({ifglgsValidate:!0})})},n.handleChangelike=function(e){if(e){var t=k()(n),a=[];a.length=0,P.a.get("".concat(I["a"],"/relation/jwRelationRule/searchName"),{params:{companyName:e}}).then(function(n){if(void 0!==n&&void 0!==n.data&&null!=n.data&&n.data.length>0)for(var l=0;l<n.data.length;l+=1)a.push(z.a.createElement(Ae,{key:n.data[l].name},n.data[l].name));else a.push(z.a.createElement(Ae,{key:Object(L["formatMessage"])({id:"jindiao.JwReconciliation.null"}),disabled:!0},Object(L["formatMessage"])({id:"jindiao.JwReconciliation.null"})));t.setState({dataSource:a,companyName:e,companyName2:e})})}},n.handleChangelikeHtCode=function(e){if(e){var t=k()(n),a=[];a.length=0,P.a.get("".concat(I["a"],"/relation/jwRelationRule/searchContractCode"),{params:{pContractCode:e}}).then(function(n){if(void 0!==n&&void 0!==n.data&&null!=n.data&&n.data.length>0)for(var l=0;l<n.data.length;l+=1)a.push(z.a.createElement(Ae,{key:n.data[l].contractCode},n.data[l].contractCode));else a.push(z.a.createElement(Ae,{key:Object(L["formatMessage"])({id:"jindiao.JwReconciliation.null"}),disabled:!0},Object(L["formatMessage"])({id:"jindiao.JwReconciliation.null"})));t.setState({contractCodeSource:a,pContractCode2:e,pContractCode:e})})}},n.columns2=[{title:Object(L["formatMessage"])({id:"rule.rulecode"}),dataIndex:"risktypeCode",align:"center",width:"15%"},{title:Object(L["formatMessage"])({id:"rule.rulename"}),dataIndex:"riskType",align:"center",width:"50%"},{title:Object(L["formatMessage"])({id:"rule.ruletype"}),dataIndex:"ruleName",align:"center",width:"25%"}],n.handleStandardTableChange=function(e){var t=n.props.dispatch,a=n.state,l=a.companyName,r=a.pContractCode,i=a.pContractState,o=a.pContractType,s={"page.current":e.current,"page.size":e.pageSize,pContractCode:r,pContractState:i,pContractType:o,companyName:l};n.setState({fenye:{current:e.current,size:e.pageSize,companyName:l}}),t({type:"jwRelationRuleModel/searchRelation",payload:s})},n.onChangeHis=function(e){n.setState({hisValue:e})},n.onChangeRadar=function(e){n.setState({radarValue:e})},n.handleChange=function(e){n.setState({selectedItems:e})},n.state={selectedRows:[],visible:!1,visible2:!1,visible3:!1,visible4:!1,loading:!1,tilteName:"",companyName:"",nameValidate:!1,ifglgsValidate:!1,yuzhongValidate:!1,caibaoValidate:!1,ruleNameValidate:!1,ifStopValidate:!1,moneyValidate:!1,poValidate:!1,record:null,loading2:"no",dataSource:[],value:"",disabled:!0,disabled2:!0,checkedValues:[],checkedValues2:[],fileList:null,selectedItems:[],zhuangtai:"",fenye:{current:1},radarMoneyValidate:!1,hismoneyValidate:!1},n}return C()(a,[{key:"exportInfo",value:function(e){var t=this,a=this.props.dispatch;a({type:"jwRelationRuleModel/isLogin",payload:this.state}).then(function(){var a=t.props.jwRelationRuleModel.loginstate;void 0!=a&&window.open("".concat(I["a"],"/relation/jwRelationRule/downLoad?companyCode=").concat(e.companyCode))})}},{key:"xzrule",value:function(e){var t=this.props.dispatch;this.setState({visible3:!0,companyName:e.companyName,companyCode:e.companyCode,contractCode:e.contractCode},function(){var a={companyName:e.companyName,companyCode:e.companyCode,contractCode:e.contractCode};t({type:"jwRelationRuleModel/getRule",payload:a})})}},{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"jwRelationRuleModel/searchRelation",payload:{}}),e({type:"jwRelationRuleModel/searchRule"})}},{key:"onChangerule",value:function(e){var t=this.props.dispatch;t({type:"jwRelationRuleModel/searchRule",payload:{likename:e}})}},{key:"setLoading2",value:function(){this.setState({loading2:"no"})}},{key:"simpleModal",value:function(e,t){var a="";if("shenhe"===t&&"\u672a\u5ba1\u6838"!==e.auditStatus?a="\u5df2\u5ba1\u6279\u4e0d\u80fd\u91cd\u590d\u5ba1\u6279\uff01":"qishen"===t&&"\u672a\u5ba1\u6838"===e.auditStatus?a="\u5f53\u524d\u5408\u540c\u672a\u5ba1\u6838\uff0c\u4e0d\u80fd\u5f03\u5ba1!":"shanchu"===t&&"\u672a\u5ba1\u6838"!==e.auditStatus?a="\u5df2\u7ecf\u5ba1\u6838\u7684\u5408\u540c\u4e0d\u80fd\u5220\u9664!":"shanchu"===t&&e.serviceStart<=Ge(new Date)&&(a="\u5408\u540c\u5df2\u7ecf\u5f00\u59cb\u4e0d\u80fd\u5220\u9664\uff01"),"shenhe"===t||"qishen"===t)if(null!==e.deferredTime&&""!==e.deferredTime){if(e.deferredTime<Ge(new Date))return void y["a"].info({content:"\u5408\u540c\u5df2\u8fc7\u671f\uff0c\u5408\u540c\u4e0d\u80fd\u4fee\u6539!"})}else if(null!==e.serviceEnd&&""!==e.serviceEnd&&e.serviceEnd<Ge(new Date))return void y["a"].info({content:"\u5408\u540c\u5df2\u8fc7\u671f\uff0c\u5408\u540c\u4e0d\u80fd\u4fee\u6539!"});""!==a?y["a"].info({content:a}):this.setState({visible4:!0,zhuangtai:t,contractCode:e.contractCode})}},{key:"selectShenHe",value:function(e){this.setState({auditStatus:e.target.value})}},{key:"submitShenHe",value:function(){var e=this,t=this.state,a=t.zhuangtai,n=t.contractCode,l=t.auditStatus,r=t.fenye,i=t.companyName,o=this.props.dispatch;if("shenhe"===a){if(void 0==l||""===l||null===l)return void y["a"].info({content:"\u8bf7\u9009\u62e9\u901a\u8fc7\u6216\u4e0d\u901a\u8fc7\uff01"});o({type:"jwRelationRuleModel/approval",payload:{contractCode:n,auditStatus:l}}).then(function(t){if(void 0!==t&&0===t.code)if(e.setState({visible4:!1}),y["a"].success({content:"\u5ba1\u6279\u6210\u529f\uff01"}),""===i){var a={current:r.current};e.handleStandardTableChange(a)}else e.handleStandardTableChange(r);else y["a"].error({content:"\u5ba1\u6279\u5931\u8d25\uff01"})})}else"qishen"===a?o({type:"jwRelationRuleModel/approval",payload:{contractCode:n,auditStatus:"0"}}).then(function(t){if(void 0!==t&&0===t.code)if(e.setState({visible4:!1}),y["a"].success({content:"\u5f03\u5ba1\u6210\u529f\uff01"}),""===i){var a={current:r.current};e.handleStandardTableChange(a)}else e.handleStandardTableChange(r);else y["a"].error({content:"\u5f03\u5ba1\u5931\u8d25\uff01"})}):"shanchu"===a&&o({type:"jwRelationRuleModel/delete",payload:{contractCode:n}}).then(function(t){if(void 0!==t&&0===t.code)if(e.setState({visible4:!1}),y["a"].success({content:"\u5220\u9664\u6210\u529f\uff01"}),""===i){var a={current:r.current};e.handleStandardTableChange(a)}else e.handleStandardTableChange(r);else y["a"].error({content:"\u5220\u9664\u5931\u8d25\uff01"})})}},{key:"showModal",value:function(e,t){var a=this;if("edit"===t)if(null!==e.deferredTime&&""!==e.deferredTime){if(e.deferredTime<Ge(new Date))return void y["a"].info({content:"\u5408\u540c\u5df2\u8fc7\u671f\uff0c\u5408\u540c\u4e0d\u80fd\u4fee\u6539!"})}else if(null!==e.serviceEnd&&""!==e.serviceEnd&&e.serviceEnd<Ge(new Date))return void y["a"].info({content:"\u5408\u540c\u5df2\u8fc7\u671f\uff0c\u5408\u540c\u4e0d\u80fd\u4fee\u6539!"});if("\u672a\u5ba1\u6838"===e.auditStatus||"edit"!==t){var n=this.props.dispatch,l=this.state.visible2;this.setState({record:e,servicestate:e.servicestate,visible2:!0,bianji:t,companyName:e.companyName,companyCode:e.companyCode}),n({type:"jwRelationRuleModel/getCompanySub",payload:{companyName:e.companyName}}),n({type:"jwRelationRuleModel/getCompanySubByHt",payload:{contractCode:e.contractCode}}),n({type:"jwRelationRuleModel/getRule",payload:{companyName:e.companyName,companyCode:e.companyCode,contractCode:e.contractCode}}).then(function(){var t=a.props.jwRelationRuleModel,n=t.xzRulelist,r=t.userArrData,i=t.getCompanySubByHtList,o={reportType:e.reportType,languages:e.languages,serviceStart:e.serviceStart,companyCode:e.companyCode,ifglgs:e.ifglgs,hisMoney:e.hisMoney,radarMoney:e.radarMoney,po:e.poflag,visible:l,contractCode:e.contractCode,deferredTime:e.deferredTime,serviceEnd:e.serviceEnd,contractType:e.contractType,contractState:e.contractState,userArr:i};a.JwnewReport.editFlash(n,o,r)})}else y["a"].info({content:"\u5ba1\u6838\u540e\uff0c\u5408\u540c\u4e0d\u80fd\u4fee\u6539\uff0c\u9700\u8981\u5f03\u5ba1\u540e\uff0c\u624d\u80fd\u4fee\u6539!"})}},{key:"handleCancel",value:function(){this.setState({visible:!1,disabled:!0,disabled2:!0,companyName:null,fileList:null,checkedValues:[],checkedValues2:[]})}},{key:"handleOk",value:function(){var e=this;this.setState({loading:!0}),setTimeout(function(){e.setState({loading:!1,visible:!1,checkedValues:[],checkedValues2:[]})},3e3)}},{key:"onBlurruleName",value:function(){var e=this,t=this.props.form;t.validateFields(["ruleName"],{},function(t,a){if(a)return void 0!==a.ruleName&&""!==a.ruleName&&null!==a.ruleName?void e.setState({ruleNameValidate:!1}):void e.setState({ruleNameValidate:!0});e.setState({ruleNameValidate:!0})})}},{key:"clone",value:function(){this.setState({visible2:!1,record:null,companyName:null}),this.props.form.resetFields()}},{key:"onBluriflag",value:function(){var e=this,t=this.props.form,a=this.state,n=a.checkedValues,l=a.checkedValues2;t.validateFields(["ifglgs"],{},function(t,a){n!=[]&&void 0!=n&&0!=n.length||l!=[]&&void 0!=l&&0!=l.length?e.setState({ifglgsValidate:!1}):e.setState({ifglgsValidate:!0})})}},{key:"onBlurHisMoney",value:function(){var e=this,t=this.props.form;t.validateFields(["hisMoney"],{},function(t,a){if(a)return void 0!==a.hisMoney&&""!==a.hisMoney&&null!==a.hisMoney?void e.setState({hismoneyValidate:!1}):void e.setState({hismoneyValidate:!0});e.setState({hismoneyValidate:!0})})}},{key:"onBlurRadarMoney",value:function(){var e=this,t=this.props.form;t.validateFields(["radarMoney"],{},function(t,a){if(a)return void 0!==a.radarMoney&&""!==a.radarMoney&&null!==a.radarMoney?void e.setState({radarMoneyValidate:!1}):void e.setState({radarMoneyValidate:!0});e.setState({radarMoneyValidate:!0})})}},{key:"onBlurcaibao",value:function(){var e=this,t=this.props.form;t.validateFields(["caibao"],{},function(t,a){if(a)return void 0!==a.caibao&&""!==a.caibao&&null!==a.caibao?void e.setState({caibaoValidate:!1}):void e.setState({caibaoValidate:!0});e.setState({caibaoValidate:!0})})}},{key:"onBluryuzhong",value:function(){var e=this,t=this.props.form;t.validateFields(["yuzhong"],{},function(t,a){if(a)return void 0!==a.yuzhong&&""!==a.yuzhong&&null!==a.yuzhong?void e.setState({yuzhongValidate:!1}):void e.setState({yuzhongValidate:!0});e.setState({yuzhongValidate:!0})})}},{key:"onBlurPO",value:function(){var e=this,t=this.props.form;t.validateFields(["po"],{},function(t,a){if(a)return void 0!==a.po&&""!==a.po&&null!==a.po?void e.setState({poValidate:!1}):void e.setState({poValidate:!0});e.setState({poValidate:!0})})}},{key:"onBlurname",value:function(){var e=this,t=this.props,a=t.form,n=t.dispatch;a.validateFields(["name"],{},function(t,a){if(a)return void 0!==a.name&&""!==a.name&&null!==a.name?(e.setState({nameValidate:!1}),void n({type:"jwRelationRuleModel/getCompanySub",payload:{companyName:a.name}})):void e.setState({nameValidate:!0});e.setState({nameValidate:!0})})}},{key:"onBlurCommon",value:function(e){var t=this.props.form.validateFields;t([e])}},{key:"setRuleNType",value:function(e){this.setState({rulesType:e})}},{key:"renderRiskAssembly",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.dataSource,l=a.contractCodeSource;return z.a.createElement(m["a"],{bordered:!0,style:{height:80}},z.a.createElement(D["a"],null,z.a.createElement(h["a"],{gutter:{md:4,lg:20,xl:12}},z.a.createElement(p["a"],{lg:4,md:12,sm:24}),z.a.createElement(p["a"],{lg:5,md:12,sm:24},z.a.createElement(Le,null,t("companyName")(z.a.createElement(g["a"],{style:{width:"100%"},ref:function(t){return e.input=t},dataSource:n,onChange:this.handleChangelike,placeholder:Object(L["formatMessage"])({id:"rule.info4"})})))),z.a.createElement(p["a"],{lg:5,md:12,sm:24},z.a.createElement(Le,null,t("pContractCode")(z.a.createElement(g["a"],{style:{width:"100%"},ref:function(t){return e.input=t},dataSource:l,onChange:this.handleChangelikeHtCode,placeholder:Object(L["formatMessage"])({id:"rule.infohetong"})})))),z.a.createElement(p["a"],{lg:3,md:12,sm:24},z.a.createElement(Le,null,t("pContractType")(z.a.createElement(N["a"],{placeholder:Object(L["formatMessage"])({id:"rule.hetongleixing"})},z.a.createElement(Ae,{value:"0"},Object(L["formatMessage"])({id:"rule.shiyonghetong"})),z.a.createElement(Ae,{value:"1"},Object(L["formatMessage"])({id:"rule.zhengshihetong"})),z.a.createElement(Ae,{value:""},Object(L["formatMessage"])({id:"rule.quanbu"})))))),z.a.createElement(p["a"],{lg:3,md:12,sm:24},z.a.createElement(Le,null,t("pContractState")(z.a.createElement(N["a"],{placeholder:Object(L["formatMessage"])({id:"rule.hetongzhuangtai"})},z.a.createElement(Ae,{value:"\u6709\u6548"},Object(L["formatMessage"])({id:"rule.youxiao"})),z.a.createElement(Ae,{value:"\u5931\u6548"},Object(L["formatMessage"])({id:"rule.shixiao"})),z.a.createElement(Ae,{value:""}," ",Object(L["formatMessage"])({id:"rule.quanbu"})))))),z.a.createElement(p["a"],{lg:2,md:12,sm:24},z.a.createElement(Le,null,t("search",{})(z.a.createElement(ze["a"],{authority:"businessrules:Relation:search"},z.a.createElement(f["a"],{style:{width:"100%",backgroundColor:"#3D73FE"},type:"primary",htmlType:"submit",onClick:this.search},Object(L["formatMessage"])({id:"business.rules.search"})))))),z.a.createElement(p["a"],{lg:2,md:12,sm:24},z.a.createElement(Le,null,t("add",{})(z.a.createElement(ze["a"],{authority:"businessrules:Relation:add"},z.a.createElement(f["a"],{style:{width:"100%",backgroundColor:"#3D73FE"},type:"primary",onClick:this.addModal},Object(L["formatMessage"])({id:"rule.caozuo2"})))))))))}},{key:"edit",value:function(e){var t=this,a=this.props.dispatch,n=this.state;n.companyName,n.fenye;a({type:"jwRelationRuleModel/editXz",payload:e}).then(function(){var e=t.props,n=e.loadingAll,l=e.jwRelationRuleModel.editXzlist;0===l.code?(y["a"].success({title:l.msg}),n||t.setState({loading2:"ok"}),t.setState({companyName:null},function(){a({type:"jwRelationRuleModel/getRule",payload:{}}),a({type:"jwRelationRuleModel/searchRelation",payload:{}})}),a({type:"jwRelationRuleModel/searchRule"}),t.setState({visible:!1,checkedValues:[],checkedValues2:[]})):2===l.code||3===l.code||4===l.code?y["a"].info({title:l.msg}):y["a"].error({title:l.msg})})}},{key:"componentDidUpdate",value:function(){this.setState({loading2:"no"})}},{key:"reflash",value:function(){var e=this.props.dispatch;e({type:"jwRelationRuleModel/searchRelation",payload:{}})}},{key:"onRef",value:function(e,t){switch(e){case"JwnewReport":this.JwnewReport=t;break;default:break}}},{key:"Checkbox",value:function(e){"0"===e[0]?this.setState({disabled:!1,checkedValues:e}):this.setState({disabled:!0,checkedValues:[]})}},{key:"Checkbox2",value:function(e){"4"===e[0]?this.setState({disabled2:!1,checkedValues2:e}):this.setState({disabled2:!0,checkedValues2:[]})}},{key:"setdate",value:function(e){this.setState({serviceStart:Ge(new Date(e))})}},{key:"setServiceEnd",value:function(e){this.setState({serviceEnd:Ge(new Date(e))})}},{key:"setDferredTime",value:function(e){this.setState({deferredTime:Ge(new Date(e))})}},{key:"disabledDate",value:function(e){var t=this.state.serviceStart;return e<U()(new Date(t))}},{key:"disabledDate1",value:function(e){var t=this.state.serviceEnd;return U()(new Date(t))>e}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRows,o=t.ifglgsValidate,h=t.record,p=t.visible2,v=t.visible3,b=t.companyName,E=t.dataSource,M=t.loading2,C=t.disabled,S=(t.disabled2,t.bianji),k=t.servicestate,j=t.checkedValues,w=t.checkedValues2,O=(t.radarMoneyValidate,t.hismoneyValidate,t.value,t.tilteName),R=t.load,V=t.visible,T=t.selectedItems,F=t.visible4,x=t.zhuangtai,B=t.auditStatus,A=t.contractTypes,H=this.props,P=H.form.getFieldDecorator,J=H.jwRelationRuleModel,G=J.RelationRulelist,Z=J.data,U=J.xzRulelist,W=J.userArrData,X=H.loadingAll,K={record:h,bianji:S},Q={labelCol:{xs:{span:26},sm:{span:8}},wrapperCol:{xs:{span:28},sm:{span:14},md:{span:12}}},$={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}};this.setLoading2.bind(this);var _=[],ee=[],te=[];_.length=0,ee.length=0,te.length=0;var ae={name:"file",multiple:!0,action:"".concat(I["a"],"/relation/jwRelationRule/upLoad"),data:{companyName:b,uploadflag:"1"},beforeUpload:function(t){return e.setState(function(e){e.fileList;return{fileList:t}}),u["a"].success("".concat(t.name," ")+Object(L["formatMessage"])({id:"rule.info6"})),!1}};return z.a.createElement(Y["a"],null,z.a.createElement("div",null," ",this.renderRiskAssembly()),z.a.createElement(m["a"],{bodyStyle:{paddingTop:0}},z.a.createElement(q["a"],{bordered:!0,selectedRows:a,loading:X,data:Z,columns:this.columns,onSelectRow:null,rowSelection:null,onChange:this.handleStandardTableChange,scroll:{x:"3000px",y:"500px"}})),z.a.createElement(y["a"],{title:b,ref:"modal",visible:v,keyboard:!0,footer:[],onCancel:this.clone3,width:"70%",destroyOnClose:!0},z.a.createElement(d["a"],{bordered:!0,dataSource:U,columns:this.columns2,loading:X,pagination:!1,scroll:{y:"300px"}}),z.a.createElement("br",null),z.a.createElement(f["a"],{type:"primary",style:{backgroundColor:"#3D73FE",float:"right",marginLeft:10},onClick:this.clone3},Object(L["formatMessage"])({id:"rule.ok"})),z.a.createElement("br",null)),z.a.createElement(y["a"],{ref:"modal",title:O,visible:V,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this),footer:[],destroyOnClose:!0,style:{marginTop:-70}},z.a.createElement("div",{style:{maxHeight:500,overflow:"auto"}},z.a.createElement(n["a"],{spinning:X,tip:Object(L["formatMessage"])({id:"rule.loading"})+"..."},z.a.createElement(D["a"],{className:"login-form"},z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.hetongleixing"})}),P("contractType",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.hetongleixingbunengweikong"}))}]})(z.a.createElement(c["a"].Group,{onBlur:function(){e.onBlurCommon("contractType")},onChange:function(t){e.setState({contractTypes:t.target.value})}},z.a.createElement(c["a"],{value:"0"}," ",z.a.createElement(L["FormattedMessage"],{id:"rule.shiyonghetong"})),z.a.createElement(c["a"],{value:"1"}," ",z.a.createElement(L["FormattedMessage"],{id:"rule.zhengshihetong"}))))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.target"})}),P("name",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.info3"}))}]})(z.a.createElement(g["a"],{style:{width:"100%"},ref:function(t){return e.input=t},dataSource:E,onChange:this.handleChangelike.bind(this),placeholder:Object(L["formatMessage"])({id:"rule.info8"}),onBlur:function(){e.onBlurname()},onFocus:function(){e.setState({nameValidate:!1})}}))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.zhanghao"})}),P("userArr",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.zhanghaobunengweikong"}))}]})("0"==A?z.a.createElement(N["a"],{value:T,onChange:function(t){e.handleChange(t)},style:{width:"100%"}},void 0!==W?W.map(function(e){return z.a.createElement(Ae,{value:e},e)}):[]):z.a.createElement(Ee,{value:T,onChange:function(t){e.handleChange(t)},style:{width:"100%"}},void 0!==W?W.map(function(e){return z.a.createElement(N["a"].Option,{key:e},e)}):[]))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.Business"})}),P("ruleName",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"business.rules.notguizename"}))}]})(z.a.createElement(Ee,{mode:"multiple",style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u89c4\u5219"},Pe(G)))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.hismoney"})}),P("hisMoney",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.infohismoney"}))}]})(z.a.createElement(he,{style:{width:"100%"},value:this.state.hisValue,onChange:this.onChangeHis,onBlur:function(){e.onBlurHisMoney()},onFocus:function(){e.setState({hismoneyValidate:!1})}}))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.radarmoney"})}),P("radarMoney",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.inforadarmoney"}))}]})(z.a.createElement(he,{style:{width:"100%"},value:this.state.radarValue,onChange:this.onChangeRadar,onBlur:function(){e.onBlurRadarMoney()},onFocus:function(){e.setState({radarMoneyValidate:!1})}}))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.fuwudate"})}),P("serviceStart",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.shengxiaoshijianbunengweikong"}))}]})(z.a.createElement(i["a"],{onBlur:function(){e.onBlurCommon("serviceStart")},onChange:this.setdate.bind(this),format:"YYYY-MM-DD"}))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.fuwujieshushijian"})}),P("serviceEnd",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.fuwujieshushijianbunengweikong"}))}]})(z.a.createElement(i["a"],{disabledDate:this.disabledDate.bind(this),onBlur:function(){e.onBlurCommon("serviceEnd")},onChange:this.setServiceEnd.bind(this),format:"YYYY-MM-DD"}))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.diyanjiezhishijian"})}),P("deferredTime")(z.a.createElement(i["a"],{disabledDate:this.disabledDate1.bind(this),onChange:this.setDferredTime.bind(this),format:"YYYY-MM-DD"}))),z.a.createElement(Le,s()({},Q,{validateStatus:o?"error":"",help:o?Object(L["formatMessage"])({id:"rule.info2"}):"",label:z.a.createElement(L["FormattedMessage"],{id:"rule.info"})}),P("ifglgs",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.info2"}))}]})(z.a.createElement("div",{style:{width:"150%",float:"left"}},z.a.createElement("ul",{style:{float:"left",padding:0}},z.a.createElement(r["a"].Group,{onBlur:function(){e.onBluriflag()},onFocus:function(){e.setState({ifglgsValidate:!1})},onChange:this.Checkbox.bind(this),value:j},z.a.createElement("li",null,z.a.createElement(r["a"],{value:"0"},Object(L["formatMessage"])({id:"rule.lishi"}))),z.a.createElement("li",null,z.a.createElement(r["a"],{disabled:C,value:"1"},Object(L["formatMessage"])({id:"rule.hanGd"}))),z.a.createElement("li",null,z.a.createElement(r["a"],{disabled:C,value:"2"},Object(L["formatMessage"])({id:"rule.hanZgs"}))),z.a.createElement("li",null,z.a.createElement(r["a"],{disabled:C,value:"3"},Object(L["formatMessage"])({id:"rule.hanDjgdwtz"}))))),z.a.createElement("ul",{style:{float:"left",padding:0}},z.a.createElement(r["a"].Group,{onBlur:function(){e.onBluriflag()},onFocus:function(){e.setState({ifglgsValidate:!1})},onChange:this.Checkbox2.bind(this),value:w},z.a.createElement("li",null,z.a.createElement(r["a"],{value:"4"},Object(L["formatMessage"])({id:"rule.jiankong"})))))))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"po\u53f7"})}),P("po",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.info34"}))}]})(z.a.createElement(N["a"],{placeholder:Object(L["formatMessage"])({id:"rule.info33"}),style:{width:"100%"},onBlur:function(){e.onBlurPO()},onFocus:function(){e.setState({poValidate:!1})}},z.a.createElement(Ae,{value:"1"},Object(L["formatMessage"])({id:"rule.info31"})),z.a.createElement(Ae,{value:"0"},Object(L["formatMessage"])({id:"rule.info32"}))))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.yuzhong"})}),P("yuzhong",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.info29"}))}]})(z.a.createElement(N["a"],{placeholder:Object(L["formatMessage"])({id:"rule.info10"}),style:{width:"100%"},onBlur:function(){e.onBluryuzhong()},onFocus:function(){e.setState({yuzhongValidate:!1})}},z.a.createElement(Ae,{value:"1"},Object(L["formatMessage"])({id:"rule.info11"})),z.a.createElement(Ae,{value:"2"},Object(L["formatMessage"])({id:"rule.info12"}))))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.caibaotype"})}),P("caibao",{rules:[{required:!0,message:"".concat(Object(L["formatMessage"])({id:"rule.info30"}))}]})(z.a.createElement(N["a"],{placeholder:Object(L["formatMessage"])({id:"rule.info13"}),style:{width:"100%"},onBlur:function(){e.onBlurcaibao()},onFocus:function(){e.setState({caibaoValidate:!1})}},z.a.createElement(Ae,{value:"1"},Object(L["formatMessage"])({id:"rule.info14"})),z.a.createElement(Ae,{value:"2"},Object(L["formatMessage"])({id:"rule.info15"}))))),z.a.createElement(Le,s()({},Q,{label:z.a.createElement(L["FormattedMessage"],{id:"rule.bangding"})}),P("upload")(z.a.createElement("div",{style:{width:"100%",minHeight:100}},z.a.createElement(Ye,s()({type:"file",showUploadList:!1},ae),z.a.createElement("p",{className:"ant-upload-drag-icon"},z.a.createElement(l["a"],{type:"inbox"})),z.a.createElement("p",{className:"ant-upload-text"},Object(L["formatMessage"])({id:"rule.info16"})),z.a.createElement("br",null))))),z.a.createElement(Le,$,z.a.createElement("div",null,z.a.createElement(f["a"],{key:"back",size:"large",onClick:this.handleCancel.bind(this),style:{float:"right",width:70,marginLeft:15}},Object(L["formatMessage"])({id:"userlist.cannel"})),z.a.createElement(f["a"],{key:"add",type:"primary",htmlType:"submit",size:"large",loading:R,style:{backgroundColor:"#3D73FE",width:70,marginLeft:30},onClick:this.submit},Object(L["formatMessage"])({id:"rule.save"})))))))),void 0!==U?z.a.createElement(De,{values:K,bianji:S,servicestate:k,onChangerule:this.onChangerule.bind(this),onRef:this.onRef.bind(this),rulelist:G,reflash:this.reflash.bind(this),loading:X,loading2:M,edit:this.edit.bind(this),visible:p,data:U,companyName:b,clone:this.clone.bind(this)}):null,z.a.createElement(y["a"],{title:"qishen"===x?"\u5f03\u5ba1":"shanchu"===x?"\u5220\u9664":"shenhe"===x?"\u5ba1\u6838":"",visible:F,onCancel:this.clone3,footer:[z.a.createElement(f["a"],{type:"primary",style:{float:"right",marginLeft:10},onClick:this.submitShenHe.bind(this)},"\u786e\u5b9a"),z.a.createElement(f["a"],{onClick:this.clone3},"\u53d6\u6d88")]},"qishen"===x?"\u786e\u5b9a\u8981\u5220\u9664\u5408\u540c\u7684\u5ba1\u6279\u4fe1\u606f\u5417\uff1f":"shanchu"===x?"\u786e\u5b9a\u8981\u5220\u9664\u5408\u540c\u5417\uff1f":"shenhe"===x?z.a.createElement("div",{style:{textAlign:"center"}},z.a.createElement(c["a"].Group,{value:B,onChange:this.selectShenHe.bind(this)},z.a.createElement(c["a"],{value:"1"},"\u901a\u8fc7"),z.a.createElement(c["a"],{value:"2"},"\u4e0d\u901a\u8fc7"))):""))}}]),a}(x["PureComponent"]),Ne=xe))||Ne);t["default"]=D["a"].create()(Ze)}}]);